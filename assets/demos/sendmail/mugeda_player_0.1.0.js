function G(a){return document.getElementById(a)}function E(a,c,b){c||(c="load");b||(b=window);b.attachEvent?b.attachEvent("on"+c,a):b.addEventListener(c,a,false)}function json(a){try{return eval("("+a+")")}catch(c){return null}}function _B2(a){if(!a||typeof a=="string")return a;var c="",b;for(b in a)c+="&"+b+"="+encodeURIComponent(a[b]);c&&(c=c.substr(1));return c}
function ajax(a){var c=/POST/i.test(a.type),b=a.data||"",d=a.dataType,e=a.url||location.href,f=/\?/.test(e)?"&":"?",g=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Msxml2.XMLHTTP")||new ActiveXObject("Microsoft.XMLHTTP");g.onreadystatechange=function(b){if(g.readyState==4)g.status==200?(b=g.responseText,d=="json"&&(b=json(b)),(c=a.success)&&c(b)):a.error&&a.error(g.status,g)};if(typeof b=="object"){var h=[],i;for(i in b)h.push(encodeURIComponent(i)+"="+encodeURIComponent(b[i]));b=h.join("&")}g.open(c?
"POST":"GET",e+(c?"":(b?f:"")+b+(a.cache?"":(!b&&f=="?"?"?":"&")+"_="+(new Date).getTime())),a.async===false?false:true);c&&g.setRequestHeader("Content-Type","application/x-www-form-urlencoded");g.send(b);return g}function fo(a){var c=0,b=0;do c+=a.offsetLeft||0,b+=a.offsetTop||0;while(a=a.offsetParent);return{x:c,y:b}}function fe(a){a=a||event;return{x:a.pageX||a.x,y:a.pageY||a.y}}function fc(a){a&&a.stopPropagation?a.stopPropagation():event.cancelBubble=true}
function getClass(a,c){for(var b=RegExp("(^|\\s*)"+a+"(\\s*|$)"),d=c?document.getElementsByTagName(c):document.getElementsByTagName("*")||document.all,e=[],f=0,g=d.length;f<g;f++)b.test(d[f].className)&&e.push(d[f]);return e}function _D5(a,c,b,d,e,f,g){if(g){var h=g._135(),i=h.rotate;if(Math.abs(h.rotate)>0.001)g=g._8D(false),c=_1BB(g.x,g.y,a,c,-i),a=c.x,c=c.y}return a>=b&&a<e&&c>=d&&c<f}JSON.clone=function(a){return JSON.parse(JSON.stringify(a))};
function _1BB(a,c,b,d,e){b-=a;var f=d-c,d=Math.atan2(-f,b),b=Math.sqrt(b*b+f*f);d-=e;e=b*Math.cos(d);b*=Math.sin(d);return{x:a+e,y:c-b}}function getElementOffset(a){for(var c=0,b=0;a.tagName!="BODY";)c+=a.offsetTop,b+=a.offsetLeft,a=a.offsetParent;return{top:c,left:b}}var _13A=[];function _116(a){return _13A[a.guid]}function getAniObjectById(a){return _13A[a]}var _194=1;function _A8(){return _194}
function _8(a,c){if(!a||!a.path)return null;var b={guid:a.guidPath},d;c==1?(delete d,d=null):c==2?(d=null,b.guid=_13E()):d=_116(b);if(!d){d=_1BF();d.guid=b.guid?b.guid:null;d=_156(_5A._189,d.guid?d:null);if(!b.guid)a.guidPath=d.dataRef.guid;b=_16F();b.fillColors=[_1A8(0,0,0,0,0)];d.dataRef.param.fillInfo=b;d.dataRef.param.lineWidth=1;d._42(a.layerId,a.frameStart)}d.dataRef.param.alpha=a.pathMode>_5A.PATHMODE_DEFAULT?1:0.5;d.dataRef.param.strokeColor=a.pathMode>_5A.PATHMODE_DEFAULT?"#FF00FF":"#333333";
return d}_17E=function(a,c,b,d,e,f){return{nodeX:a?a:0,nodeY:c?c:0,forwardX:b?b:0,forwardY:d?d:0,backwardX:e?e:0,backwardY:f?f:0}};_A4=function(a,c){return{x:a?a:0,y:c?c:0}};function _19F(a){a||(a="#000000");var c=a.toLowerCase(),b="#000000";return b=c.indexOf("rgb")==0?a:(new RGBColor(c)).toRGB()}if(typeof _5A=="undefined")var _5A={};_5A.MRAID_READY=1;_5A._A9="../../myani/load";_5A.SHAPE=2E3;_5A._1BE=_5A.SHAPE+1;_5A._4A=_5A.SHAPE+2;_5A._9E=_5A.SHAPE+3;_5A._5E=_5A.SHAPE+4;_5A._1B=_5A.SHAPE+5;
_5A._1B6=_5A.SHAPE+6;_5A._120=_5A.SHAPE+7;_5A._5B=_5A.SHAPE+8;_5A._18B=_5A.SHAPE+9;_5A._124=_5A.SHAPE+10;_5A._16C=_5A.SHAPE+11;_5A._89=_5A.SHAPE+12;_5A._14C=_5A.SHAPE+13;_5A._10E=_5A.SHAPE+14;_5A._A6=_5A.SHAPE+15;_5A._18E=_5A.SHAPE+16;_5A._41=_5A.SHAPE+17;_5A._189=_5A.SHAPE+18;_5A._139=_5A.SHAPE+19;_5A._1BC=_5A.SHAPE+20;_5A._DC=_5A.SHAPE+21;_5A.SHAPE_VIDEO=_5A.SHAPE+22;_5A.AUDIO=4E3;_5A._4F=_5A.AUDIO+1;_5A._1AF=_5A.AUDIO+2;_5A._90=null;_5A._163=99999999;_5A._EA=-99999999;_5A.HITTEST=3E3;
_5A._7C=_5A.HITTEST+1;_5A._1B2=_5A.HITTEST+2;_5A._17B=_5A.HITTEST+3;_5A._CF=_5A.HITTEST+4;_5A._39=_5A.HITTEST+5;_5A._46=_5A.HITTEST+6;_5A._152=_5A.HITTEST+7;_5A._6F=_5A.HITTEST+8;_5A._55=_5A.HITTEST+9;_5A._103=_5A.HITTEST+10;_5A._166=_5A.HITTEST+11;_5A._10F=_5A.HITTEST+12;_5A._196=_5A.HITTEST+13;_5A._143=_5A.HITTEST+14;_5A._129=_5A.HITTEST+15;_5A.PATHMODE_DEFAULT=0;_5A.PATHMODE_CUSTOM=1;_5A.PATHMODE_UPDATE_PATH=2;_5A.PATHMODE_UPDATE_KEYFRAME=3;_5A.UNIT_MODE_PROGRESS=1;
if(!_5A.Message)_5A.Message={};_5A.Message._16B="There are errors in loading image data. Your animation may not be rendered correctly.";_5A.Message.CheckNull="Invalid field (empty)";_5A.Message.CheckNumber="Invalid number";_5A.Message.CheckEmail="Invalid email";_5A.Message.CheckUrl="Invalid url";_5A.TrackAnchorsServer="https://stats.mugeda.com/stats/url.php";_5A.MugedaTrackAnchors=["https://stats.mugeda.com/stats/pixel.php"];_5A.MugedaActionTracker=["https://stats.mugeda.com/stats/action.php"];
_2D={zip:function(a){return this.unzip(a,true)},unzip:function(a,c){for(var b=a.layers,d=b.length-1;d>=0;d--)for(var e=b[d].units,f=0;f<e.length;f++)for(var g=e[f].objects,h=0;h<g.length;h++)this._126(g[h],c);return a},_126:function(a,c){if(a.items&&a.items.length)for(var b=0;b<a.items.length;b++){var d=a.items[b];d.items&&d.items.length?this._126(d,c):this._11B(d,c)}else this._11B(a,c)},_11B:function(a,c){var b=a.curve.points,d=b.length;if(d){var e,f=[];e=typeof b=="string";var g=a.type!=_5A._A6;
if(c){if(e)return;for(var h=0;h<d;h++)e=b[h],e=g?[e.backwardX,e.backwardY,e.forwardX,e.forwardY,e.nodeX,e.nodeY]:[e.x,e.y],f.push(e.join(","));f=f.join(";")}else{if(!e)return;b=b.split(";");for(h=0;h<b.length;h++)e=b[h].split(","),e=g?{backwardX:Number(e[0]),backwardY:Number(e[1]),forwardX:Number(e[2]),forwardY:Number(e[3]),nodeX:Number(e[4]),nodeY:Number(e[5])}:{x:Number(e[0]),y:Number(e[1])},f.push(e)}a.curve.points=f}}};_1A8=function(a,c,b,d,e){return{p:a,r:c,g:b,b:d,a:e}};
_16F=function(){return{fillStyle:0,fillImage:"",fillStartPos:{x:32,y:10},fillEndPos:{x:80,y:100},fillColors:[_1A8(0,144,200,255,1),_1A8(0.8,255,144,200,1),_1A8(1,200,255,144,1)]}};var _149=0;function _1BD(){return _149++}function S4(){return((1+Math.random())*65536|0).toString(16).substring(1)}function _13E(){var a=new Date-new Date("2012/1/1")+""+Math.random().toString().substr(2,4);return Number(a).toString(36)}
_3C=function(){return{left:0,top:0,right:0,bottom:0,startX:0,startY:0,endX:0,endY:0,width:0,height:0,alpha:1,rotate:0,scaleX:1,scaleY:1,lineWidth:1,strokeType:0,strokeColor:"#0683ff",lineCap:"round",lineJoin:"round",fillInfo:_16F()}};_1BF=function(){var a=_3C(),c={guid:_13E(),id:0,type:0,name:"",param:{},curve:{closed:1,points:[]}};c.param=a;return c};
_18F={_173:function(a,c,b,d,e){layers=window.aniLayers;typeof d!="undefined"&&(layers=d);if(layers){for(d=layers.length-1;d>=0;d--)if(layers[d].id==a.layerId)break;if(d<0)return;d=layers[d];if(!b&&d&&(d.lock||d.hide))return alert(_5A.Message._AA),false}if(a.animated&&a.objects.length>0)return alert(_5A.Message._83),false;if(c){if(e){b=a.objects.length;for(d=0;d<b;d++)if(a.objects[d]==e){a.objects.splice(d+1,0,c);break}}a.objects.push(c.dataRef);c._42(a.layerId,a.frameStart)}return true},distributeProgress:function(a,
c){if(a&&!a.animated&&a.pg){for(var b=a.frameCount,d=0,e=a.objects.length,f=window._186.rate,g=0;g<e;g++){var h=a.objects[g],i=_116(h),j=i,k=0;switch(h.type){case _5A._139:k=1;break;case _5A._4A:case _5A._9E:case _5A._5E:case _5A._1B6:case _5A._18B:case _5A._1BE:k=2;break;case _5A._124:k=3;break;case _5A._1B:case _5A._10E:k=4}j.progressMode=k;if(i.progressMode==1)d+=h.curve.points.length;else if(i.progressMode==2)k=h.curve.points.length+(h.curve.closed?1:0),d+=k<<2;else if(i.progressMode==3)h=unescape(h.param.textContent).length,
d+=h<<0;else if(i.progressMode==4||i.progressMode==5)d+=f*1}a.totalNodes=d;for(g=j=0;g<e;g++)if(h=a.objects[g],i=_116(h),i.progressMode){i=_116(h);i.percentFrom=j/d;k=h.curve.points.length+(h.curve.closed?1:0);if(i.progressMode==1)j+=k;else if(i.progressMode==2)j+=k<<2;else if(i.progressMode==3)h=unescape(h.param.textContent).length,j+=h<<0;else if(i.progressMode==4||i.progressMode==5)i.anchorParam?h.param=JSON.clone(i.anchorParam):i.anchorParam=JSON.clone(h.param),j+=f*1;i.percentTo=j/d}d=window._132-
a.frameStart+1;for(g=0;g<e;g++)if(h=a.objects[g],i=_116(h),i.progressMode)i.framePercent=c==1?1:d/b}},_B4:function(a,c){a.pg=false;if(a.animated!=c)if(a.animated=c)if(a.objects.length){if(a.objects.length>1||a.objects[0].type!=_5A._10E){var b=_156(_5A._10E);b.addObjects(a.objects);b._EB();a.objects=[];_18F._173(a,b)}a.keyframes.length==1&&this._9F(a,a.frameStart+a.frameCount-1)}else alert(_5A.Message._96),a.animated=false;else if(a.objects.length&&a.objects[0].type==_5A._10E){for(b=a.keyframes.length-
1;b>0;b--){var d=a.keyframes[b];d&&(a.hashKey["key_"+d.id]&&delete a.hashKey["key_"+d.id],delete d);a.keyframes.splice(b,1)}a.keyframes.length=1}},setProgress:function(a,c){if(a.animated)alert(_5A.Message.NoProgress);else if(a.pg!=c)a.pg=c},_9F:function(a,c){if(!isDefined(c))return null;var b=a.keyframes.length,d;a.animated==false||b==0?d=null:(d=_3C(),_116(a.objects[0]),b==1?(_AE.exchange(d,a.objects[0].param,false),_AE.exchange(a.keyframes[0].param,d,false)):c>a.keyframes[b-1].id?_AE.exchange(d,
a.keyframes[b-1].param,false):d=this._E6(a,c));d=_2(c,d);if(b==0)a.keyframes.push(d);else for(b-=1;b>=0;b--)if(c>a.keyframes[b].id){a.keyframes.splice(b+1,0,d);break}return a.hashKey["key_"+c]=d},_2F:function(){},_38:function(a,c){var b=a.hashKey["key_"+c];b||(b=null);return b},_D2:function(a,c,b){for(var d=a.keyframes.length-1;d>=0;d--){var e=a.keyframes[d];if(e.id<c)break;var f="key_"+e.id,g=a.hashKey[f];delete a.hashKey[f];e.id+=b;a.hashKey["key_"+e.id]=g}c=a.objects.length;for(d=0;d<c;d++)if(b=
_116(a.objects[d]))b.frameId=a.frameStart,b.layerId=a.layerId},_92:function(a,c){for(var b=a.keyframes.length,d=null,e=null,f=0;f<b;f++)if(d=a.keyframes[f],d.id==c){e=d;break}return e},getProgressParam:function(a,c,b,d){if(!a||!c||!c.anchorParam)return c?c._135():null;var d=d.tween,e=a.frameStart+Math.floor(a.frameCount*c.percentFrom),f=a.frameStart+Math.floor(a.frameCount*c.percentTo)-1,a=f-e+1,e=Math.min(f,b-e),c=c.anchorParam,b=JSON.clone(c);b.rotate=c.rotate-Math.PI*0.25;b.scaleX=c.scaleX*0.5;
b.scaleY=c.scaleY*0.5;b.alpha=e<0?0:c.alpha*0.5;b.startX=c.startX+c.rotateCenterX*0.5;b.startY=c.startY+c.rotateCenterY*0.5;b.width=c.width*0.5;b.height=c.height*0.5;b.endX=b.startX+b.width;b.endY=b.startY+b.height;b.rotateCenterX=c.rotateCenterX*0.5;b.rotateCenterY=c.rotateCenterY*0.5;b.customPivot=true;b.left=b.startX;b.top=b.startY;b.right=b.startX+b.width;b.bottom=b.startY+b.height;d=this._10D(a,d)[e<0?0:e];a=_3C();_AE._50(a,b,c,d);return a},_E6:function(a,c,b){var d=a.keyframes.length,e=a.keyframes[0],
f=null,g=null,h=0,i=-1;if(d>1&&!a.hashKey["key_"+c]){for(var j=1;j<d;j++){f=a.keyframes[j];if(f.id>c){i=j;break}e=f;h=j;f=null}if(f&&(g=Math.abs(f.id-e.id),c-=e.id,c=this._10D(g,e.tween)[c],g=_3C(),_AE._50(g,e.param,f.param,c),a.pathMode>_5A.PATHMODE_DEFAULT&&h>=0&&i>=0))_8(a)._135(),f=a.path,h=_5(f[h],f[i],c),h.x=a.pathLeft+h.x-g.rotateCenterX,h.y=a.pathTop+h.y-g.rotateCenterY,g.startX=h.x,g.startY=h.y,g.endX=g.startX+g.width,g.endY=g.startY+g.height,g.left=g.startX,g.top=g.startY,g.right=g.endX,
g.bottom=g.endY}if(!g)g=e.param;if(b){if(g.keepAspect==void 0)g.keepAspect=b.keepAspect;if(g.rawWidth==void 0||isNaN(g.rawWidth))g.rawWidth=b.rawWidth;if(g.rawHeight==void 0||isNaN(g.rawHeight))g.rawHeight=b.rawHeight}return g},_10D:function(a,c){var b=[],d=new TWEEN.Tween({x:0});d.to({x:1},1E3);c||(c="Linear.EaseNone");d.easing(eval("TWEEN.Easing."+c));for(var e=0;e<a;e++)b[e]=d.getFactor(e/a);return b}};
_AE={exchange:function(a,c,b){b?(b=a,a=c):b=c;a.startX=b.startX;a.startY=b.startY;a.endX=b.endX;a.endY=b.endY;a.left=b.left;a.right=b.right;a.top=b.top;a.bottom=b.bottom;a.width=b.width;a.height=b.height;a.alpha=b.alpha;a.scaleX=b.scaleX;a.scaleY=b.scaleY;a.rotate=b.rotate;a.keepAspect=b.keepAspect==void 0?a.keepAspect:b.keepAspect;a.rawWidth=b.rawWidth==void 0?a.rawWidth:b.rawWidth;a.rawHeight=b.rawHeight==void 0?a.rawHeight:b.rawHeight;a.rotateCenterX=b.rotateCenterX;a.rotateCenterY=b.rotateCenterY;
a.customPivot=b.customPivot},_50:function(a,c,b,d){a.startX=c.startX+d*(b.startX-c.startX);a.startY=c.startY+d*(b.startY-c.startY);a.endX=c.endX+d*(b.endX-c.endX);a.endY=c.endY+d*(b.endY-c.endY);a.width=c.width+d*(b.width-c.width);a.height=c.height+d*(b.height-c.height);a.alpha=c.alpha+d*(b.alpha-c.alpha);a.scaleX=c.scaleX+d*(b.scaleX-c.scaleX);a.scaleY=c.scaleY+d*(b.scaleY-c.scaleY);a.rotate=c.rotate+d*(b.rotate-c.rotate);a.rotateCenterX=c.rotateCenterX+d*(b.rotateCenterX-c.rotateCenterX);a.rotateCenterY=
c.rotateCenterY+d*(b.rotateCenterY-c.rotateCenterY);a.customPivot=true;a.rawWidth=c.rawWidth+d*(b.rawWidth-c.rawWidth);a.rawHeight=c.rawHeight+d*(b.rawHeight-c.rawHeight);if(c.fillInfo&&c.fillInfo&&(c.fillInfo.fillStyle==1||c.fillInfo.fillStyle==2))a.fillInfo.fillStartPos.x=c.fillInfo.fillStartPos.x+d*(b.fillInfo.fillStartPos.x-c.fillInfo.fillStartPos.x),a.fillInfo.fillStartPos.y=c.fillInfo.fillStartPos.y+d*(b.fillInfo.fillStartPos.y-c.fillInfo.fillStartPos.y),a.fillInfo.fillEndPos.x=c.fillInfo.fillEndPos.x+
d*(b.fillInfo.fillEndPos.x-c.fillInfo.fillEndPos.x),a.fillInfo.fillEndPos.y=c.fillInfo.fillEndPos.y+d*(b.fillInfo.fillEndPos.y-c.fillInfo.fillEndPos.y);a.left=a.startX;a.top=a.startY;a.right=a.startX+a.width;a.bottom=a.startY+a.height},scale:function(a,c,b){a.startX*=c;a.startY*=b;a.endX*=c;a.endY*=b;a.rotateCenterX*=c;a.rotateCenterY*=b;if(a.fillInfo&&(a.fillInfo.fillStyle==1||a.fillInfo.fillStyle==2))a.fillInfo.fillStartPos.x*=c,a.fillInfo.fillStartPos.y=a.fillInfo.fillStartPos.x*b,a.fillInfo.fillEndPos.x*=
c,a.fillInfo.fillEndPos.y*=b;a.left=Math.min(a.startX,a.endX);a.right=Math.max(a.startX,a.endX);a.top=Math.min(a.startY,a.endY);a.bottom=Math.max(a.startY,a.endY);a.width=a.right-a.left;a.height=a.bottom-a.top},shift:function(a,c,b){a.startX+=c;a.startY+=b;a.endX+=c;a.endY+=b;a.left=Math.min(a.startX,a.endX);a.right=Math.max(a.startX,a.endX);a.top=Math.min(a.startY,a.endY);a.bottom=Math.max(a.startY,a.endY)}};
function RGBColor(a){this.ok=false;a.charAt(0)=="#"&&(a=a.substr(1,6));var a=a.replace(/ /g,""),a=a.toLowerCase(),c={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",
darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",
gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",
lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",
oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",
slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},b;for(b in c)a==b&&(a=c[b]);var d=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,
example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}];for(b=0;b<d.length;b++){var e=d[b].process,f=d[b].re.exec(a);if(f)channels=e(f),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=true}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r;this.g=this.g<0||isNaN(this.g)?
0:this.g>255?255:this.g;this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b;this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"};this.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),c=this.b.toString(16);a.length==1&&(a="0"+a);b.length==1&&(b="0"+b);c.length==1&&(c="0"+c);return"#"+a+b+c};this.getHelpXML=function(){for(var a=[],b=0;b<d.length;b++)for(var e=d[b].example,f=0;f<e.length;f++)a[a.length]=e[f];for(var k in c)a[a.length]=k;e=document.createElement("ul");
e.setAttribute("id","rgbcolor-examples");for(b=0;b<a.length;b++)try{var o=document.createElement("li"),l=new RGBColor(a[b]),r=document.createElement("div");r.style.cssText="margin: 3px; border: 1px solid black; background:"+l.toHex()+"; color:"+l.toHex();r.appendChild(document.createTextNode("test"));var t=document.createTextNode(" "+a[b]+" -> "+l.toRGB()+" -> "+l.toHex());o.appendChild(r);o.appendChild(t);e.appendChild(o)}catch(u){}return e}}
_88=function(a,c){a.prototype=new c;a.prototype.constructor=a};_5A._49=function(){this.aux=this.direct=null};
function _1C5(a,c,b,d){var e="#93C9FF",b=b||1,d=d||1;if(c.fillStyle==0)c=c.fillColors[0],e="rgba("+c.r+","+c.g+","+c.b+","+c.a+")";else if(c.fillStyle==1){e=a.createLinearGradient(c.fillStartPos.x*b,c.fillStartPos.y*d,c.fillEndPos.x*b,c.fillEndPos.y*d);for(a=0;a<c.fillColors.length;a++)b=c.fillColors[a],e.addColorStop(b.p,"rgba("+b.r+","+b.g+","+b.b+","+b.a+")")}else if(c.fillStyle==2)for(var e=Math.abs(c.fillEndPos.x-c.fillStartPos.x)*b,f=Math.abs(c.fillEndPos.y-c.fillStartPos.y)*d,e=Math.sqrt(e*
e+f*f),e=a.createRadialGradient(c.fillStartPos.x*b,c.fillStartPos.y*d,0,c.fillStartPos.x*b,c.fillStartPos.y*d,e),a=0;a<c.fillColors.length;a++)b=c.fillColors[a],e.addColorStop(b.p,"rgba("+b.r+","+b.g+","+b.b+","+b.a+")");else c.fillStyle==3?(b=new Image,b.src=c.fillImage,e=a.createPattern(b,"repeat")):c.fillStyle==4&&(e="rgba(255,255,255,0)");return e}
Point={set:function(a,c,b){a.x=c;a.y=b},copy:function(a,c){a.x=c.x;a.y=c.y},offset:function(a,c,b){a.x+=c;a.y+=b},scale:function(a,c,b){a.x*=c;a.y*=b},_140:function(a,c){return c.x==a.x&&c.y==a.y}};
_C={set:function(a,c,b,d,e,f,g){a.nodeX=c;a.nodeY=b;a.forwardX=d;a.forwardY=e;a.backwardX=f;a.backwardY=g},copy:function(a,c){a.nodeX=c.nodeX;a.nodeY=c.nodeY;a.forwardX=c.forwardX;a.forwardY=c.forwardY;a.backwardX=c.backwardX;a.backwardY=c.backwardY},offset:function(a,c,b){a.nodeX+=c;a.nodeY+=b;a.forwardX+=c;a.forwardY+=b;a.backwardX+=c;a.backwardY+=b},scale:function(a,c,b){a.nodeX*=c;a.nodeY*=b;a.forwardX*=c;a.forwardY*=b;a.backwardX*=c;a.backwardY*=b},_140:function(a,c,b){return c.nodeX==a.nodeX&&
c.nodeY==a.nodeY&&(b==0||c.forwardX==a.forwardX&&c.forwardY==a.forwardY&&c.backwardX==a.backwardX&&c.backwardY==a.backwardY)},_81:function(a,c,b){var d,e,f,g;c?(e=a.forwardX,f=a.forwardY,g=a.backwardX,d=a.backwardY):(e=a.backwardX,f=a.backwardY,g=a.forwardX,d=a.forwardY);e-=a.nodeX;f-=a.nodeY;b?(g=a.nodeX-e,d=a.nodeY-f):(b=Math.sqrt(e*e+f*f),g=a.nodeX-g,d=a.nodeY-d,d=Math.sqrt(g*g+d*d),b==0||d==0?(g=a.nodeX,d=a.nodeY):(ratio=d/b,g=a.nodeX-e*ratio,d=a.nodeY-f*ratio));c?(a.backwardX=g,a.backwardY=d):
(a.forwardX=g,a.forwardY=d)}};
_5A._B8=function(a){navigator.userAgent.match(/iPad/i);navigator.userAgent.match(/iPhone/i);var c=this.useTouch="ontouchstart"in window;this._1C3=c?12:4;this._13F=c?16:4;this._159=false;this._13C=true;this.dataRef=null;if(a)this.dataRef=a;this._14A=_3C();this._8C=new _5A._49;this._8C.direct=_3C();this._8C.aux=_3C();this.locked=false;this.frameId=this.layerId=-1;this._6=this._3B=this._DE=this._1C2=this._35=this._FF=this._AD=this._3E=this._195=this._91=this._19C=this._21=this._12C=this._12F=this._EF=
this._16E=this._1C6=0;this._165=false;this._66=this._182=this._174=this._9=this._2C=this._B6=0;this._B=null;this._82="#ff0000";this._ED="#ffff00";this._EC="#ff0000";this._D8="#0000ff";this._34="#ff0000";this._5D="#ffffff";this._127="#000000";this._2A="#000088";this._28=this._71="#008800";this._10B=_5A._44;this._15C=-1;this._15B=[];this._56=this._17C=this._B0=false;this._FB=1;this.hitPos=_5A._10F;this.minHeight=this.minWidth=_5A._EA;this.maxHeight=this.maxWidth=_5A._163;this.eventListeners=[]};
_5A._B8.prototype.setPosition=function(a,c,b){var d=this._135();b||(a-=d.left,c-=d.top);d.startX+=a;d.startY+=c;d.endX+=a;d.endY+=c;d.left+=a;d.top+=c;d.right+=a;d.bottom+=c};_5A._B8.prototype.offset=function(a,c){for(var b=this.dataRef.curve?this.dataRef.curve.points:[],d=b.length,e=0;e<d;e++)point=b[e],typeof point.x=="undefined"?_C.offset(point,a,c):Point.offset(point,a,c)};
_5A._B8.prototype.processFlip=function(a,c,b,d,e){var d=d?d:0,e=e?e:0,f=this._135();if(f.vF||f.hF){var g=f.hF?-1:1,h=f.vF?-1:1;a.translate(f.hF?c+d*2:0,f.vF?b+e*2:0);a.scale(g,h)}};
_5A._B8.prototype._CD=function(a,c,b){var d=this._135(),e=0,f=0,g=d.width/2,h=d.height/2,i=this._1C3,j=_5A._10F,k=b==0&&this._10B==_5A._44,o=_D5(a,c,d.left,d.top,d.left+d.width,d.top+d.height,this);if(b&8)return o?_5A._103:_5A._10F;if(d.fillInfo){var e=d.fillInfo.fillStartPos.x+d.left,f=d.fillInfo.fillStartPos.y+d.top,l=d.fillInfo.fillEndPos.x+d.left,r=d.fillInfo.fillEndPos.y+d.top,i=this._13F;if(_D5(a,c,e-i,f-i,e+i,f+i,this))j=_5A._143;else if(_D5(a,c,l-i,r-i,l+i,r+i,this))j=_5A._129;if(j!==_5A._10F)return this.hitPos=
j}for(var t=0;t<9;t++)if(l=Math.floor(t/3),r=t-l*3,e=d.left+r*g,f=d.top+l*h,l==1&&r==1&&d.customPivot&&(e=d.left+d.rotateCenterX,f=d.top+d.rotateCenterY),!(this._159&&t&1)&&_D5(a,c,e-i,f-i,e+i,f+i,this)){j=_5A.HITTEST+t+1;break}g=!k||j==_5A._7C||j==_5A._152||j==_5A._17B||j==_5A._55||j==_5A._103||j==_5A._39;if(this.useTouch&&(j==_5A._CF||j==_5A._46||j==_5A._1B2||j==_5A._6F||j==_5A._17B||j==_5A._152||j==_5A._39))j=_5A._103;if(j==_5A._39&&!(b&2))j=_5A._103;else if(g){if(!k&&j==_5A._10F&&o)j=_5A._103}else j=
o?_5A._103:_5A._10F;if(j==_5A._10F&&!k&&this._13C&&(b=this._1C3*2,e=d.left+d.width+b,f=d.top-b,this._10B==_5A._1A1)){if(_D5(a,c,e-i,f-i,e+i,f+i,this))j=_5A._166;if(!this.useTouch){k=i*4;e=d.left-b;f=d.top-b;if(_D5(a,c,e-k,f-k,e+i,f+i,this))j=_5A._166;e=d.left-b;f=d.top+d.height+b;if(_D5(a,c,e-k,f-i,e+i,f+k,this))j=_5A._166;e=d.left+d.width+b;f=d.top+d.height+b;if(_D5(a,c,e-i,f-i,e+k,f+k,this))j=_5A._166}}return this.hitPos=j};_5A._B8.prototype.setVisible=function(a){this._135().alpha=a?1:0};
_5A._B8.prototype._19B=function(a,c){(typeof c=="undefined"?0:c)?(this._135().alpha*=a,this._14A.alpha=1):this._14A.alpha=a;return true};_5A._B8.prototype.setRotationCenter=function(a,c){var b=this._135();b.rotateCenterX=a;b.rotateCenterY=c};_5A._B8.prototype._8D=function(a){var c=this._135(),b=c.rotateCenterX,d=c.rotateCenterY;a||(b+=c.left,d+=c.top);return{x:b,y:d}};
_5A._B8.prototype._20=function(a){var a=typeof a=="undefined"?false:a,c=this._135(),b={left:c.left*c.scaleX*this._14A.scaleX,top:c.top*c.scaleY*this._14A.scaleY,right:c.right*c.scaleX*this._14A.scaleX,bottom:c.bottom*c.scaleY*this._14A.scaleY};if(Math.abs(c.rotate)>0.001&&a==false){var d=this._8D(false),a=d.x,e=d.y,d=_1BB(a,e,b.left,b.top,c.rotate),f=_1BB(a,e,b.right,b.bottom,c.rotate),g=_1BB(a,e,b.right,b.top,c.rotate),c=_1BB(a,e,b.left,b.bottom,c.rotate);b.left=Math.min(d.x,Math.min(f.x,Math.min(g.x,
c.x)));b.right=Math.max(d.x,Math.max(f.x,Math.max(g.x,c.x)));b.top=Math.min(d.y,Math.min(f.y,Math.min(g.y,c.y)));b.bottom=Math.max(d.y,Math.max(f.y,Math.max(g.y,c.y)))}b.width=b.right-b.left;b.height=b.bottom-b.top;return b};_5A._B8.prototype._1D=function(){return{direct:this._135(),aux:this._14A}};
_5A._B8.prototype._BC=function(){var a=_3C(),c=this._135(),b=this._14A;this._B0?(a.startX=this._EF,a.startY=this._12F,a.endX=this._12C,a.endY=this._21,a.left=Math.min(a.startX,a.endX),a.right=Math.max(a.startX,a.endX),a.top=Math.min(a.startY,a.endY),a.bottom=Math.max(a.startY,a.endY)):(a.startX=c.startX*b.scaleX,a.startY=c.startY*b.scaleY,a.endX=c.endX*b.scaleX,a.endY=c.endY*b.scaleY,a.left=c.left*b.scaleX,a.right=c.right*b.scaleX,a.top=c.top*b.scaleY,a.bottom=c.bottom*b.scaleY,a.rawWidth=c.rawWidth,
a.rawHeight=c.rawHeight,a.keepAspect=c.keepAspect);a.width=a.right-a.left;a.height=a.bottom-a.top;a.rotate=c.rotate;a.strokeColor=c.strokeColor;a.lineWidth=c.lineWidth;return a};
_5A._B8.prototype._19D=function(a,c,b){var b=typeof b=="undefined"?false:b,d=this._135();if(b){this._14A.scaleX=1;this._14A.scaleY=1;if(this.dataRef.curve)for(var b=this.dataRef.curve.points.length,e,f=0;f<b;f++)e=this.dataRef.curve.points[f],typeof e.x!="undefined"?(e.x*=a,e.y*=c):(e.nodeX*=a,e.nodeY*=c,e.forwardX*=a,e.forwardY*=c,e.backwardX*=a,e.backwardY*=c);b=typeof this.dataRef.aryAnchors=="undefined"?0:this.dataRef.aryAnchors.length;for(f=0;f<b;f++)e=this.dataRef.aryAnchors[f],e.x*=a,e.y*=
c;d.startX*=a;d.startY*=c;d.endX*=a;d.endY*=c;if(d.fillInfo&&(d.fillInfo.fillStyle==1||d.fillInfo.fillStyle==2))d.fillInfo.fillStartPos.x*=a,d.fillInfo.fillStartPos.y*=c,d.fillInfo.fillEndPos.x*=a,d.fillInfo.fillEndPos.y*=c;d.rotateCenterX*=a;d.rotateCenterY*=c;d.left=Math.min(d.startX,d.endX);d.right=Math.max(d.startX,d.endX);d.top=Math.min(d.startY,d.endY);d.bottom=Math.max(d.startY,d.endY);d.width=d.right-d.left;d.height=d.bottom-d.top}else this._14A.scaleX=a,this._14A.scaleY=c;return true};
_5A._B8.prototype.getParameter=function(){return this._135()};_5A._B8.prototype.setName=function(a){var c=Mugeda.setIdName(this.dataRef,a);if(c==0)this._135().name=a;return c};_5A._B8.prototype.setRotation=function(a){this._14A.rotate=a*0.01745329252};_5A._B8.prototype.setScaleFactor=function(a,c){this._19D(a,c,false)};
_5A._B8.prototype._1AC=function(a){var c=this._BC(),b=this._135(),d=this._14A,e=c.rotate+d.rotate;if(Math.abs(e)>0.001&&!this._B0){var f;b.rotateCenterX==void 0||b.rotateCenterY==void 0?(f=b.width/2,b=b.height/2):(f=b.rotateCenterX,b=b.rotateCenterY);f=f*d.scaleX+c.left;var c=b*d.scaleY+c.top,b=Math.sqrt(f*f+c*c),g=Math.atan2(c,f),d=b*Math.cos(e+g);b*=Math.sin(e+g);a.translate(f-d,c-b);a.rotate(e)}};
_5A._B8.prototype._C9=function(a,c){var b=this.dataRef.param;if(!b.customPivot)b.rotateCenterX=a-b.left,b.rotateCenterY=c-b.top};_5A._B8.prototype._199=function(){var a=this._135();a.left=Math.min(a.startX,a.endX);a.right=Math.max(a.startX,a.endX);a.top=Math.min(a.startY,a.endY);a.bottom=Math.max(a.startY,a.endY);a.width=a.right-a.left;a.height=a.bottom-a.top;!this._165&&!a.customPivot&&this._C9((a.left+a.right)/2,(a.top+a.bottom)/2)};_5A._B8.prototype._135=function(){return this.dataRef.param};
_5A._B8.prototype._42=function(a,c){this.layerId=a;this.frameId=c};_5A._B8.prototype._1B7=function(){return{layer:this.layerId,frame:this.frameId}};
_5A._B8.prototype._CB=function(a){if(a&&this.dataRef!=a&&(this.dataRef.param=JSON.clone(a.param),this.dataRef.curve)){this.dataRef.curve.closed=a.curve.closed;var c=a.curve.points.length;this.dataRef.curve.points=[];for(var b=0;b<c;b++){if(typeof a.curve.points[b].x!="undefined"){var d=_A4();Point.copy(d,a.curve.points[b])}else d=_17E(),_C.copy(d,a.curve.points[b]);this.dataRef.curve.points[b]=d}}};
_5A._B8.prototype.draw=function(a,c){typeof c=="undefined"&&(c=1);this._FB=c;var b=this._BC(),d=this._135();a.save();a.globalAlpha=_194*d.alpha*this._14A.alpha;a.lineWidth=d.lineWidth;a.lineCap=d.lineCap;a.lineJoin=d.lineJoin;this._1AC(a);if(c==1)d=new RGBColor(this._82);else{if(d.fillInfo)a.fillStyle=_1C5(a,d.fillInfo),this._78(a,b,false);d=new RGBColor(b.strokeColor)}a.strokeStyle=d.toRGB();this._78(a,b,true);c==1&&(this.hitPos==_5A._143||this.hitPos==_5A._129)&&this._3D(a,true,true);this._121(a,
c);a.restore()};_5A._B8.prototype._78=function(){};_5A._B8.prototype._121=function(a,c){var b=this._135();if(!(c!=1||typeof b.customPivot=="undefined"||b.customPivot==false)){var b=this.editPivotX,d=this.editPivotY,e=new RGBColor(this._82);a.strokeStyle=e.toRGB();a.beginPath();a.arc(b,d,this._1C3,0,Math.PI*2,false);a.stroke()}};_5A._B8.prototype.addEventListener=function(a,c){this.eventListeners[a]||(this.eventListeners[a]=[]);this.eventListeners[a].push(c)};
_5A._B8.prototype.removeEventListener=function(a,c){if(this.eventListeners[a]){for(var b=this.eventListeners[a],d=b.length,e=0;e<d;e++)if(b[e]==c){b.splice(e,1);break}this.eventListeners[a].length==0&&delete this.eventListeners[a]}};
_5A._B8.prototype.setButton=function(a,c,b){if(a!=null)this.buttonEnabled=true,typeof a=="number"&&(a={from:a,to:a,noLoop:true}),this.setSegment("_Btn_normal_",a),c!=null&&(typeof c=="number"&&(c={from:c,to:c,noLoop:true}),this.setSegment("_Btn_press_",c),this.addEventListener("mousedown",function(){this.buttonEnabled&&this.playSegment("_Btn_press_")})),b=b||a,typeof b=="number"&&(b={from:b,to:b,noLoop:true}),this.setSegment("_Btn_up_",b),a=function(){this.buttonEnabled&&this.playSegment("_Btn_up_")},
this.addEventListener("mouseup",a),this.addEventListener("mouseout",a),this.playSegment("_Btn_normal_")};_5A.Point=function(a,c){this.x=a;this.y=c};
_5A._C=function(){this.loadParams=function(a){a=a.split(",");this.nodeX=parseInt(a[0]);this.nodeY=parseInt(a[1]);this.forwardX=parseInt(a[2]);this.forwardY=parseInt(a[3]);this.backwardX=parseInt(a[4]);this.backwardY=parseInt(a[5])};this.saveParams=function(a){_117(a,"tripoint","array",this.nodeX+","+this.nodeY+","+this.forwardX+","+this.forwardY+","+this.backwardX+","+this.backwardY)}};
_5A.Curve=function(a,c,b){_5A._B8.call(this,a);if(a)a.type=_5A._4A;if(this.dataRef&&!isDefined(this.dataRef.aryAnchors))this.dataRef.aryAnchors=[];this.pending=false;this.displayControl=true;this.currentPoint=null;this.aryBackupPoints=[];this.aryEditTriPoint=[];this.aryBackupAnchors=[];this._19A(c,b)};_88(_5A.Curve,_5A._B8);_5A.Curve.prototype._C2=function(a){this.displayControl=a};
_5A.Curve.prototype._CD=function(a,c,b){var d=_5A._B8.prototype._CD.call(this,a,c,b);if(b==3&&this.useTouch)return d;b=this._135();a-=b.startX;c-=b.startY;for(var b=_5A._10F,e=this.dataRef.curve.points.length,f,g=0;g<e;g++)if(f=this.dataRef.curve.points[g],a>=f.nodeX-this._1C3&&a<f.nodeX+this._1C3&&c>=f.nodeY-this._1C3&&c<f.nodeY+this._1C3){this._15C=3*g;b=_5A._196;break}else if(a>=f.forwardX-this._1C3&&a<f.forwardX+this._1C3&&c>=f.forwardY-this._1C3&&c<f.forwardY+this._1C3&&this._15B[g]==1){this._15C=
3*g+1;b=_5A._196;break}else if(a>=f.backwardX-this._1C3&&a<f.backwardX+this._1C3&&c>=f.backwardY-this._1C3&&c<f.backwardY+this._1C3&&this._15B[g]==1){this._15C=3*g+2;b=_5A._196;break}if(b!=_5A._196)this._15C=-1,b=d,b!=_5A._166&&b!=_5A._143&&b!=_5A._129&&(b=Bezier.isInPath(a,c,this.dataRef.curve.points)?_5A._103:_5A._10F);else if(d==_5A._143||d==_5A._129)b=d;else if(this._10B==_5A._44)b=_5A._103;return this.hitPos=b};
_5A.Curve.prototype._19A=function(a,c){if(a&&this.dataRef){this.dataRef.curve.closed=c;for(var b=a.length,d=0;d<b;d++){var e=a[d],f=_17E(e.nodeX,e.nodeY,e.forwardX,e.forwardY,e.backwardX,e.backwardY);if(typeof e.id!="undefined")f.id=e.id;this.dataRef.curve.points.push(f)}if(c)this.dataRef.curve.closed=true;this._199()}};
_5A.Curve.prototype._199=function(){if(!this._17C){var a=this._135(),c=this._B0?false:true,b=[];b.push(this.dataRef.curve.points);var d=Bezier.getBoundary(b),b=d.left,e=d.top;c?(a.startX+=b,a.startY+=e):(a.startX=d.left,a.startY=d.top);a.width=d.right-d.left;a.height=d.bottom-d.top;a.left=a.startX;a.top=a.startY;a.right=a.left+a.width;a.bottom=a.top+a.height;a.endX=a.right;a.endY=a.bottom;c=this.dataRef.curve.points.length;for(d=0;d<c;d++)point=this.dataRef.curve.points[d],_C.offset(point,-b,-e);
c=this.dataRef.aryAnchors.length;for(d=0;d<c;d++)point=this.dataRef.aryAnchors[d],point.x-=b,point.y-=e;a.rotate=0;switch(this.hitPos){case _5A._196:a.fillInfo.fillStartPos.x-=b;a.fillInfo.fillStartPos.y-=e;a.fillInfo.fillEndPos.x-=b;a.fillInfo.fillEndPos.y-=e;break;case _5A._7C:case _5A._55:case _5A._17B:case _5A._152:case _5A._1B2:case _5A._6F:case _5A._CF:case _5A._46:b=this._AD/(this._195-this._19C),e=this._FF/(this._3E-this._91),a.fillInfo.fillStartPos.x=(a.right-a.left)*b,a.fillInfo.fillStartPos.y=
(a.bottom-a.top)*e,b=this._35/(this._195-this._19C),e=this._1C2/(this._3E-this._91),a.fillInfo.fillEndPos.x=(a.right-a.left)*b,a.fillInfo.fillEndPos.y=(a.bottom-a.top)*e}}};
_5A.Curve.prototype.draw=function(a,c){typeof c=="undefined"&&(c=1);a.save();var b=this._14A,d=b.scaleX,e=b.scaleY,f=this._135();Math.abs(b.rotate)>0.001&&this._1AC(a);this._B0||a.translate(f.startX*d,f.startY*e);a.lineWidth=f.lineWidth;a.lineCap=f.lineCap;a.lineJoin=f.lineJoin;a.globalAlpha=_194*f.alpha*this._14A.alpha;var b=this.dataRef.curve.points.length,g=_17E(),f=this._135(),h=Math.floor(this._15C/3),i=0;c==1?(f=new RGBColor(this._82),a.strokeStyle=f.toRGB()):(a.strokeStyle=_19F(f.strokeColor),
a.fillStyle=_1C5(a,f.fillInfo,d,e));var f=b,i=0,j=true;this.framePercent===void 0||this.framePercent>=this.percentTo?f=b:this.framePercent>=0&&this.percentFrom<=this.framePercent&&this.framePercent<this.percentTo?(f=b,this.dataRef.curve.closed||f--,i=f*(this.framePercent-this.percentFrom)/(this.percentTo-this.percentFrom),f=Math.floor(i),j=b-i<0.001,i-=f,f=Math.min(b,f+1)):f=0;var k=c==1?1:2;j||(k=1);for(var o=0;o<k;o++){a.beginPath();for(var l=0;l<f-1;l++)point1=this.dataRef.curve.points[l],point2=
this.dataRef.curve.points[l+1],l==0&&a.moveTo(point1.nodeX*d,point1.nodeY*e),a.bezierCurveTo(point1.forwardX*d,point1.forwardY*e,point2.backwardX*d,point2.backwardY*e,point2.nodeX*d,point2.nodeY*e);if(this.progressMode>0&&i>0.001){l==0&&(point1=this.dataRef.curve.points[0],a.moveTo(point1.nodeX*d,point1.nodeY*e));var r=-1,t;f<b?(r=f-1,t=f):this.dataRef.curve.closed&&f==b&&(r=f-1,t=0);if(r>=0){var l=[],u=_17E();_C.copy(u,this.dataRef.curve.points[r]);l.push(u);u=_17E();_C.copy(u,this.dataRef.curve.points[t]);
l.push(u);Bezier._12B(l,0,i);a.bezierCurveTo(l[0].forwardX*d,l[0].forwardY*e,l[1].backwardX*d,l[1].backwardY*e,l[1].nodeX*d,l[1].nodeY*e);r=l.length;for(u=0;u<r;u++)delete l[u];delete l}}this.dataRef.curve.closed&&b>1&&f==b&&j&&(point1=this.dataRef.curve.points[b-1],point2=this.dataRef.curve.points[0],_C._140(point1,point2,0)==false&&a.bezierCurveTo(point1.forwardX*d,point1.forwardY*e,point2.backwardX*d,point2.backwardY*e,point2.nodeX*d,point2.nodeY*e));k>1&&o==0?a.fill():a.stroke()}if(c==1&&this.displayControl&&
!this.useTouch){a.lineWidth=1;for(l=0;l<b;l++){_C.copy(g,this.dataRef.curve.points[l]);_C.scale(g,d,e);if(this._15B.length>0&&this._17C)i=0,h==l?i=12:(h>0&&l==h-1&&(i|=13),h>=0&&h<b-1&&l==h+1&&(i|=14));else if(i=l==0?1:0,b>1&&l==b-1&&(i|=2),b<2||l>=b-2)i|=4;this._15B[l]==1&&(i|=16);this.drawTriPoint(a,g,i)}}c==1&&(this.hitPos==_5A._143||this.hitPos==_5A._129)&&this._3D(a,false,true);this._121(a,c);a.restore()};_5A.Path=function(a,c,b){_5A.Curve.call(this,a,c,b);if(a)a.type=_5A._189};
_88(_5A.Path,_5A.Curve);_5A._48=function(a){_5A.Curve.call(this,a);if(a)a.type=_5A._16C;this.aryControls=[]};_88(_5A._48,_5A.Curve);
function _156(a,c){var b=c?c:_1BF(),d=null;switch(a){case _5A._1BE:d=new _5A._D7(b);break;case _5A._9E:d=new _5A._C1(b);break;case _5A._1B6:d=new _5A.Polygon(b);break;case _5A._18B:d=new _5A._69(b);break;case _5A._4A:d=new _5A.Curve(b);break;case _5A._A6:d=new _5A.Spline(b);break;case _5A._139:d=new _5A.Pencil(b);break;case _5A._1B:d=new _5A.Picture(b);break;case _5A._41:d=new _5A.Camera(b);break;case _5A._189:d=new _5A.Path(b);break;case _5A._124:d=new _5A.Text(b);break;case _5A._5E:d=new _5A._131(b);
break;case _5A._120:d=new _5A.Select(b);break;case _5A._10E:d=new _5A.Group(b);break;case _5A._DC:d=new _5A.Clip(b)}d&&(_13A[b.guid]&&delete _13A[b.guid],_13A[b.guid]=d);return d}_5A._C1=function(a){_5A._48.call(this,a);if(a)a.type=_5A._9E};_88(_5A._C1,_5A._48);_5A._131=function(a){_5A._48.call(this,a);if(a)a.type=_5A._5E};_88(_5A._131,_5A._48);_5A._D7=function(a){_5A._48.call(this,a);if(a)a.type=_5A._1BE};_88(_5A._D7,_5A._48);
_5A._D7.prototype._CD=function(a,c,b){var b=_5A.Curve.prototype._CD.call(this,a,c,b),d=this.dataRef.curve.points[0],e=this.dataRef.curve.points[1],f=this._135(),g=_D5(a,c,f.left,f.top,f.right,f.bottom);a-=f.startX;c-=f.startY;if(b!=_5A._196&&(f=e.nodeX-d.nodeX,e=e.nodeY-d.nodeY,Math.abs(f*(d.nodeY-c)-(d.nodeX-a)*e)/Math.sqrt(f*f+e*e)<4&&g))b=_5A._103;return this.hitPos=b};_5A._69=function(a){_5A._48.call(this,a);if(a)a.type=_5A._18B;if(!isDefined(a.cornerRadius))a.cornerRadius=[16,16,16,16];this._C2(false)};
_88(_5A._69,_5A._48);_5A._69.prototype._CD=function(a,c,b){a=_5A.Curve.prototype._CD.call(this,a,c,b);if(a==_5A._196&&(c=Math.floor(this._15C/3),!(c==1||c==2||c==5||c==6)))a=_5A._10F,this._15C=0;return this.hitPos=a};
_5A._69.prototype._CB=function(a){if(a&&this.dataRef!=a){_5A._48.prototype._CB.call(this,a);if(a.cornerRadius)this.dataRef.cornerRadius=a.cornerRadius.slice(0);a.curve&&a.curve.points.length==8&&(this.clearControlPoints(),this.addControlPoint(this.dataRef.curve.points[1].nodeX,this.dataRef.curve.points[1].nodeY),this.addControlPoint(this.dataRef.curve.points[2].nodeX,this.dataRef.curve.points[2].nodeY),this.addControlPoint(this.dataRef.curve.points[5].nodeX,this.dataRef.curve.points[5].nodeY),this.addControlPoint(this.dataRef.curve.points[6].nodeX,
this.dataRef.curve.points[6].nodeY));if(a.aryAnchors)this.clearAnchorPoints(),this.dataRef.aryAnchors=a.aryAnchors.slice(0)}};_5A._69.prototype._19D=function(a,c,b){_5A._B8.prototype._19D.call(this,a,c,b);if(b)c=this.dataRef,c.cornerRadius[0]*=a,c.cornerRadius[1]*=a,c.cornerRadius[2]*=a,c.cornerRadius[3]*=a;return true};
_5A.Polygon=function(a){_5A._48.call(this,a);if(a)a.type=_5A._1B6;a=this.dataRef.param;if(!isDefined(a.innerX))a.innerX=0,a.innerY=0,a.outerX=0,a.outerY=0,a.centerX=0,a.centerY=0,a.edges=5,a.section=5,a.innerPercent=1;this.previousEdges=a.edges;this.previousSection=a.section;this.bottomBound=this.topBound=this.rightBound=this.leftBound=0;this.previousInnerPercent=1;this.prevInnerY=this.prevInnerX=this.prevOuterY=this.prevOuterX=this.prevCenterY=this.prevCenterX=0};_88(_5A.Polygon,_5A._48);
_5A.Polygon.prototype._CD=function(a,c,b){var d=_5A._B8.prototype._CD.call(this,a,c,b);if(d==_5A._143||d==_5A._129)return this.hitPos=d;var d=_5A._10F,e=this._135();if(a>=e.outerX-this._1C3&&a<e.outerX+this._1C3&&c>=e.outerY-this._1C3&&c<e.outerY+this._1C3)this._15C=1,d=_5A._196;else if(a>=this.leftBound/2+this.rightBound/2-this._1C3&&a<this.leftBound/2+this.rightBound/2+this._1C3&&c>=this.topBound-this._1C3&&c<this.topBound+this._1C3)this._15C=2,d=_5A._196;else if(a>=this.leftBound/2+this.rightBound/
2-this._1C3&&a<this.leftBound/2+this.rightBound/2+this._1C3&&c>=this.bottomBound-this._1C3&&c<this.bottomBound+this._1C3)this._15C=3,d=_5A._196;else if(a>=e.innerX-this._1C3&&a<e.innerX+this._1C3&&c>=e.innerY-this._1C3&&c<e.innerY+this._1C3)this._15C=4,d=_5A._196;d!=_5A._196&&(d=_5A.Curve.prototype._CD.call(this,a,c,b));return this.hitPos=d};
_5A.Polygon.prototype._CB=function(a){if(a&&this.dataRef!=a)_5A._B8.prototype._CB.call(this,a),this.dataRef.param.symblId=a.param.symbolId,this.dataRef.param.offsetX=a.param.offsetX,this.dataRef.param.offsetY=a.param.offsetY};_5A.Polygon.prototype._19D=function(a,c,b){_5A._B8.prototype._19D.call(this,a,c,b);b&&(b=this._135(),b.innerX*=a,b.innerY*=c,b.outerX*=a,b.outerY*=c,b.centerX*=a,b.centerY*=c);return true};
_5A.Pencil=function(a){_5A._B8.call(this,a);if(a)a.type=_5A._139;this.lastPoint=null;this.dataRef.curve.closed=false;this.dataRef.aryAnchors=[];this.displayControl=false;if(!isDefined(this.dataRef.param.smooth))this.dataRef.param.smooth=3};_88(_5A.Pencil,_5A._48);
_5A.Spline=function(a,c,b){_5A._B8.call(this,a);if(a)a.type=_5A._A6;this.pending=false;this.displayControl=true;this.aryBackupPoints=[];this.aryEditPoint=[];this.model=null;if(!isDefined(this.dataRef.param.smooth))this.dataRef.param.smooth=4;this._19A(c,b)};_88(_5A.Spline,_5A._B8);
_5A.Spline.prototype.createModel=function(){var a=this.dataRef.curve.points,c=a.length,b=this._B0?Math.pow(2,this.dataRef.param.smooth):1;c<=3&&(b=1);more=c%b;for(var d=Math.floor(c/b),e,f=1;f<d;f++)e=f*b,a[f].x=a[e].x,a[f].y=a[e].y;if(more>0)a[d].x=a[c-1].x,a[d].y=a[c-1].y,d++;if(this.dataRef.curve.closed)c<=d&&(a[d]={}),a[d].x=a[0].x,a[d].y=a[0].y,d++;c=d;a.length=c;if(c>1)this.model=_162(a);this.dataRef.param.smooth=0};
_5A.Spline.prototype._19A=function(a,c){this.dataRef.curve.closed=c;if(a){for(var b=a.length,d=0;d<b;d++){var e=a[d];this.dataRef.curve.points.push(_A4(e.x,e.y))}this._199()}};_5A.Spline.prototype._CB=function(a){if(a&&this.dataRef!=a)_5A._B8.prototype._CB.call(this,a),this.dataRef.param.smooth=a.param.smooth};
_5A.Spline.prototype.draw=function(a,c){typeof c=="undefined"&&(c=1);a.save();var b=this.dataRef.curve.points,d=b.length;if(!this._B0&&(this.model==null||this.dataRef.param.smooth>0)){if(this.dataRef.param.smooth>1)this.dataRef.param.smooth=1;this.createModel()}var b=this._14A,e=b.scaleX,f=b.scaleY,g=this._135();this._B0||a.translate(g.startX*e,g.startY*f);a.lineWidth=g.lineWidth;a.lineCap=g.lineCap;a.lineJoin=g.lineJoin;a.globalAlpha=_194*g.alpha*this._14A.alpha;var h=_A4(),i=0,b=this.dataRef.curve.points,
j;c==1?(j=new RGBColor(this._82),a.strokeStyle=j.toRGB()):(a.strokeStyle=_19F(g.strokeColor),a.fillStyle=_1C5(a,g.fillInfo,e,f));a.lineCap=g.linecap;a.lineJoin=g.lineJoin;g=c==1?1:2;for(j=0;j<g;j++){a.beginPath();for(var k=0;k<d-1;k++){var o=b[k],l=b[k+1];k==0&&a.moveTo(o.x*e,o.y*f);if(this.model==null)a.lineTo(l.x*e,l.y*f);else for(var o=0,r,t=0;t<20;t++)l=_18A(this.model.x,k,o),r=_18A(this.model.y,k,o),o+=0.05,a.lineTo(l*e,r*f)}g>1&&j==0?a.fill():a.stroke()}a.lineWidth=1;if(c==1&&this.displayControl)for(k=
0;k<d;k++)if(this._15B[k]==1)h.x=b[k].x*e,h.y=b[k].y*f,i|=16,this.drawPoint(a,h,i);c==1&&(this.hitPos==_5A._143||this.hitPos==_5A._129)&&this._3D(a,false,true);this._121(a,c);a.restore()};_5A.Spline.prototype._19D=function(a,c,b){_5A._B8.prototype._19D.call(this,a,c,b);if(b)this.model=null;return true};function _18A(a,c,b){return a.a[c]+a.b[c]*b+a.c[c]*b*b+a.d[c]*b*b*b}
function _180(a,c,b,d){var e=a.length;b[0]/=c[0];d[0]/=c[0];for(var f=1;f<e;f++){var g=1/(c[f]-b[f-1]*a[f]);b[f]*=g;d[f]=(d[f]-d[f-1]*a[f])*g}a=[];a[e-1]=d[e-1];for(f=e-2;f>=0;f--)a[f]=d[f]-b[f]*a[f+1];return a}
function _162(a){for(var c={x:{a:[],b:[],c:[],d:[]},y:{a:[],b:[],c:[],d:[]}},b=a.length,d=[],e=[],f=[],g=[],h=0;h<b;h++)f[h]=1,d[h]=1,e[h]=4;e[0]=2;e[b-1]=2;for(h=1;h<b-1;h++)g[h]=3*(a[h+1].y-a[h-1].y);g[0]=3*(a[1].y-a[0].y);g[b-1]=3*(a[b-1].y-a[b-2].y);for(var i=_180(d,e,f,g),h=0;h<b-1;h++)c.y.a[h]=a[h].y,c.y.b[h]=i[h],c.y.c[h]=3*(a[h+1].y-a[h].y)-2*i[h]-i[h+1],c.y.d[h]=2*(a[h].y-a[h+1].y)+i[h]+i[h+1];for(h=1;h<b-1;h++)g[h]=3*(a[h+1].x-a[h-1].x);g[0]=3*(a[1].x-a[0].x);g[b-1]=3*(a[b-1].x-a[b-2].x);
i=_180(d,e,f,g);for(h=0;h<b-1;h++)c.x.a[h]=a[h].x,c.x.b[h]=i[h],c.x.c[h]=3*(a[h+1].x-a[h].x)-2*i[h]-i[h+1],c.x.d[h]=2*(a[h].x-a[h+1].x)+i[h]+i[h+1];return c}_5A.Rectangle=function(a){_5A._B8.call(this,a);if(a)a.type=_5A._9E};_88(_5A.Rectangle,_5A._B8);_5A.Rectangle.prototype._78=function(a,c,b){b?a.strokeRect(c.left,c.top,c.width,c.height):a.fillRect(c.left,c.top,c.width,c.height)};
_5A.Camera=function(a){_5A.Rectangle.call(this,a);if(a)a.type=_5A._41;this.imgCam=null;this.iconW=32;this.iconH=24;this._159=true;var a=this._135(),c=_16F();c.fillColors=[_1A8(0,128,128,128,0.3)];a.fillInfo=c;a.strokeColor="#600000";a.lineWidth=1};_88(_5A.Camera,_5A.Rectangle);_5A.Picture=function(a){_5A.Rectangle.call(this,a);if(a)a.type=_5A._1B,a.param.fillInfo=null;if(!isDefined(this.dataRef.param.imageSrc))this.dataRef.param.imageSrc="";this.objImage=null;this.prevHeight=this.prevWidth=0};
_88(_5A.Picture,_5A.Rectangle);
_5A.Picture.prototype._78=function(a,c,b){a.save();if(this._FB==1)a.globalAlpha=0.4,_5A.Rectangle.prototype._78.call(this,a,c,b);try{var d=Math.round(c.left),e=Math.round(c.top),f=/[^.]+$/.exec(this.dataRef.param.imageSrc)[0],g=f&&f.toLowerCase()=="svg",h=this.dataRef.guid;if(this._FB==0)this.prevWidth=c.width,this.prevHeight=c.height;a.translate(d,e);var d=b=0,i=c.width,j=c.height;if(c.keepAspect){var k=c.rawWidth/c.rawHeight,o=c.width/c.height;if(k>o)i=c.width,j=Math.floor(i/k),d=Math.floor((c.height-
j)/2);else if(k<o)j=c.height,i=Math.floor(j*k),b=Math.floor((c.width-i)/2)}this.processFlip(a,c.width,c.height);c=null;(c=ImageCache.getImage(this.dataRef.param.imageSrc))||(c=ImageCache.getImage(h));if(c)a.drawImage(c,b,d,i,j);else{if(!g){var l=this.objImage=new Image;l.src=this.dataRef.param.imageSrc;l.objParam=this.dataRef.param;l.onload=function(){this.objParam.rawWidth=this.width;this.objParam.rawHeight=this.height;ImageCache._106(this.src,this);_5A.ImageCacheCallback&&_5A.ImageCacheCallback({image:this,
id:h,source:this.src})};l.onerror=function(){this.imageSrc="res/noimage.png"}}g||ImageCache._106(h,this.objImage)}}catch(r){}a.restore()};_5A.Text=function(a){_5A._B8.call(this,a);if(a)a.type=_5A._124;a=this.dataRef.param;if(!isDefined(a.fontSize))a.fontSize="64",a.fontStyle="",a.fontWeight="",a.fontFamily="Arial",a.textAlign="left",a.textVAlign="middle",a.textContent="Text",a.textDecoration="";this.textHeight=this.textWidth=0};_88(_5A.Text,_5A._B8);
_5A.Text.prototype.draw=function(a,c){function b(a,c,d,e,f,g,h){var u=d!=null&&e!=null&&(f!=null||g!=null),v=h&&h.align||"left",x=h&&h.valign||"top",w=h&&h.overflow||"display",A=w=="display",H=h&&h.lineHeight||a.measureText("\u53e3").width+4,L=c.replace(/(\r\n|\n\r|\r|\n)/g,"\n").split("\n"),K=0,I=0,M=d,D=e,y=null,N=f==null,J=w=="display",w=x!="top",u=!w||h&&h.totalHeight;w&&u&&(h.totalHeight>g?D=e:(J=true,x=="middle"?D=e+(g-h.totalHeight)/2:x=="bottom"&&(D=e+(g-h.totalHeight))));if(g==null)g=_5A._163,
J=true;if(!J&&u){y=document.getElementById("canvas_text_buffer");if(!y)y=document.createElement("canvas"),y.id="canvas_text_buffer",y.style.display="none",a.canvas.parentNode.appendChild(y);y.width=a.canvas.width;y.height=a.canvas.height;var z=y.getContext("2d");z.fillStyle=a.fillStyle;z.strokeStyle=a.strokeStyle;z.shadowBlur=a.shadowBlur;z.shadowOffsetX=a.shadowOffsetX;z.shadowOffsetY=a.shadowOffsetY;z.shadowColor=a.shadowColor;z.font=a.font}var B=!z||J||!u?a:z;B.textBaseline="alphabetic";B.textAlign=
v;if(v=="center")M+=f/2;else if(v=="right")M+=f;else if(v!="left")B.textAlign=left;if(N)f=_5A._163;D+=H/7*6;x=function(a){if(u&&(A||H*I<g))h.mode=="stroke"?B.strokeText(a,M,D+H*I):B.fillText(a,M,D+H*I);I++;O=B.measureText(a.replace(/\s*$/,"")).width;O>K&&(K=O)};y=function(a){for(var b=[];a.length;){var c="";(c=a.match(/^[$\(\[\{\uffe1\uffe5\u00b7\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u301d\ufe59\ufe5b\ufe5d\uff04\uff08\uff0e\uff3b\uff5b\uffe1\uffe5]*\d+(?:\.\d+)*[!%\),\.:;>\?\]\}\uffe0\u00a8\u00b0\u00b7\u02c7\u02c9\u2015\u2016\u2019\u201d\u2026\u2030\u2032\u2033?\u2103\u2236\u3001\u3002\u3003\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u301e\ufe36\ufe3a\ufe3e\ufe40\ufe44\ufe5a\ufe5c\ufe5e\uff01\uff02\uff05\uff07\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff3d\uff40\uff5c\uff5d\uff5e\uffe0]*/))?
(b.push(c[0]),a=a.substring(c[0].length)):(c=a.match(/^[$\(\[\{\uffe1\uffe5\u00b7\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u301d\ufe59\ufe5b\ufe5d\uff04\uff08\uff0e\uff3b\uff5b\uffe1\uffe5]*[a-zA-z]+[!%\),\.:;>\?\]\}\uffe0\u00a8\u00b0\u00b7\u02c7\u02c9\u2015\u2016\u2019\u201d\u2026\u2030\u2032\u2033?\u2103\u2236\u3001\u3002\u3003\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u301e\ufe36\ufe3a\ufe3e\ufe40\ufe44\ufe5a\ufe5c\ufe5e\uff01\uff02\uff05\uff07\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff3d\uff40\uff5c\uff5d\uff5e\uffe0]*/))?
(b.push(c[0]),a=a.substring(c[0].length)):(c=a.match(/^[$\(\[\{\uffe1\uffe5\u00b7\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u301d\ufe59\ufe5b\ufe5d\uff04\uff08\uff0e\uff3b\uff5b\uffe1\uffe5]*[\u4e00-\u9fa5][!%\),\.:;>\?\]\}\uffe0\u00a8\u00b0\u00b7\u02c7\u02c9\u2015\u2016\u2019\u201d\u2026\u2030\u2032\u2033?\u2103\u2236\u3001\u3002\u3003\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u301e\ufe36\ufe3a\ufe3e\ufe40\ufe44\ufe5a\ufe5c\ufe5e\uff01\uff02\uff05\uff07\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff3d\uff40\uff5c\uff5d\uff5e\uffe0]*/))?
(b.push(c[0]),a=a.substring(c[0].length)):(c=a.match(/^[$\(\[\{\uffe1\uffe5\u00b7\u2018\u201c\u3008\u300a\u300c\u300e\u3010\u3014\u3016\u301d\ufe59\ufe5b\ufe5d\uff04\uff08\uff0e\uff3b\uff5b\uffe1\uffe5]+[!%\),\.:;>\?\]\}\uffe0\u00a8\u00b0\u00b7\u02c7\u02c9\u2015\u2016\u2019\u201d\u2026\u2030\u2032\u2033?\u2103\u2236\u3001\u3002\u3003\u3009\u300b\u300d\u300f\u3011\u3015\u3017\u301e\ufe36\ufe3a\ufe3e\ufe40\ufe44\ufe5a\ufe5c\ufe5e\uff01\uff02\uff05\uff07\uff09\uff0c\uff0e\uff1a\uff1b\uff1f\uff3d\uff40\uff5c\uff5d\uff5e\uffe0]+/))?
(b.push(c[0]),a=a.substring(c[0].length)):(c=a.match(/^\s+/))?(b.push(c[0]),a=a.substring(c[0].length)):(b.push(a.charAt(0)),a=a.substring(1))}return b};for(z=0;z<L.length;z++){var C=y(L[z]),F=1;for(J||B.drawImage(a.canvas,0,0);C.length&&F<=C.length;){var P=C.slice(0,F).join(""),O=B.measureText(P.replace(/\s*$/,"")).width;O>f?(F==1?(P=C.slice(0,1).join(""),C=C.splice(1)):(P=C.slice(0,F-1).join(""),C=C.splice(F-1)),x(P.replace(/\s*$/,"")),F=1):F++}F>0&&x(C.join(""))}J||(N&&(d=0),L=B.getImageData(0,
e,B.canvas.width,g),content.putImageData(L,0,e));if(w&&!u)h=h||{},h.totalHeight=H*I,b(a,c,d,e,f,g,h);f>_5A._163&&(v=="right"?d-=K:v=="center"&&(d-=K/2),f=K);g>_5A._163&&(g=I*H);return{x:d,y:e,w:f,h:g}}typeof c=="undefined"&&(c=1);var d=this._135();if(!d.width||d.width==0)d.width=142,d.height=parseInt(d.fontSize)+8;a.save();a.globalAlpha=_194*d.alpha*this._14A.alpha;this._1AC(a);var e=this._14A,f=e.scaleX,e=e.scaleY;this._B0||a.translate(d.startX*f,d.startY*e);a.lineWidth=d.lineWidth;a.lineCap=d.lineCap;
a.lineJoin=d.lineJoin;var g;c==1?(g=new RGBColor(this._82),a.strokeStyle=g.toRGB(),a.strokeRect(0,0,d.width*f,d.height*e)):(a.strokeStyle=_19F(d.strokeColor),a.fillStyle=_1C5(a,d.fillInfo,f,e));g=this.dataRef.param.fontSize*Math.max(f,e);a.alphabetic="top";a.font=g+"px "+this.dataRef.param.fontFamily;if(this.dataRef.param.fontWeight=="bold")a.font="bold "+a.font;if(this.dataRef.param.fontStyle=="italic")a.font="italic "+a.font;g=unescape(d.textContent);if(this.progressMode==3)if(this.framePercent<
this.percentFrom)g="";else if(this.framePercent>=0&&this.percentFrom<=this.framePercent&&this.framePercent<this.percentTo){var h=Math.ceil(g.length*((this.framePercent-this.percentFrom)/(this.percentTo-this.percentFrom)));g=g.substr(0,h)}this.textWidth=d.width*f;this.textHeight=d.height*e;this.processFlip(a,this.textWidth,this.textHeight);b(a,g,0,0,d.width*f,d.height*e,{align:d.textAlign,valign:d.textVAlign,mode:"stroke",overflow:"display"});c==0&&b(a,g,0,0,d.width*f,d.height*e,{align:d.textAlign,
valign:d.textVAlign,mode:"fill",overflow:"display"});d.endX=d.startX+d.width;d.endY=d.startY+d.height;this._199();c==1&&(this.hitPos==_5A._143||this.hitPos==_5A._129)&&this._3D(a,false,true);this._121(a,c);a.restore()};_5A.Text.prototype._19D=function(a,c,b){_5A._B8.prototype._19D.call(this,a,c,b);b&&(this._135().fontSize*=Math.max(a,c));if(b)this.model=null;return true};
_5A.Group=function(a){_5A._B8.call(this,a);if(a)a.type=_5A._10E;if(isDefined(this.dataRef)&&this.dataRef&&this.dataRef.param&&(!isDefined(this.dataRef.param.rawWidth)||!isDefined(this.dataRef.items)))this.dataRef.param.rawWidth=0,this.dataRef.param.rawHeight=0,this.dataRef.items=[];this._34="#0000ff"};_88(_5A.Group,_5A._B8);_5A.Group.prototype._173=function(a){for(var c=this.dataRef.items.length,b=true,d=0;d<c;d++)if(this.dataRef.items[d].guid==a.dataRef.guid){b=false;break}b&&this.dataRef.items.push(a.dataRef)};
_5A.Group.prototype.draw=function(a,c,b){var d=this.dataRef.items.length,e,f,g=this._135();f=this._BC();a.save();a.globalAlpha=_194*g.alpha*this._14A.alpha;this._1AC(a);e=f.endX-f.startX;var h=f.endY-f.startY,i=e/g.rawWidth,g=h/g.rawHeight;a.translate(f.startX,f.startY);this.processFlip(a,e,h);if(b)c=b.img,d=b.offset,a.drawImage(c,0,0,c.width,c.height,-d,-d,e+d*2,h+d*2);else{for(h=0;h<d;h++)e=_116(this.dataRef.items[h]),e._19D(i,g),e._19B(a.globalAlpha,false),e.draw(a,c);this._121(a,c)}a.restore()};
function _54(a,c,b,d){for(var e=c.length-1;e>=0;e--){var f=c[e];f.objs=[];for(var g=f.units.length,h=0;h<g;h++){var i=f.units[h],j=i.objects.length;if(i&&b>=i.frameStart&&b<i.frameStart+i.frameCount){if(i.audio)if(b==i.frameStart){var k=AudioCache.getAudio(i.id);if(k){if(k.currentTime)k.currentTime=0;try{k.play()}catch(o){}}}else if(b==i.frameStart+i.frameCount-1&&(k=AudioCache.getAudio(i.id)))try{k.pause()}catch(l){}if(j)for(k=0;k<j;k++){if(i.animated&&j==1){var r=_18F._38(i,b),t=i.objects[k].param;
r?_AE.exchange(r.param,t,true):(r=_18F._E6(i,b,t))&&_AE.exchange(r,t,true)}f.objs.push(i.objects[k]);t=_116(i.objects[k]);t._19D(d.scaleX,d.scaleY);t._19B(d.alpha,false)}}}}a.save();_AB.drawLayer(a,c);a.restore()}
_5A.Clip=function(a){_5A.Group.call(this,a);a?a.type=_5A._DC:(this.dataRef.param.symbolId="",this.dataRef.param.offsetX=0,this.dataRef.param.offsetY=0);this.counter=0;this.realtime=true;this.bound=null;this.frameLen=0;this.activeSeg=null;this.dataRef.param.segments=[];this.dataRef.param.frameListeners={}};_88(_5A.Clip,_5A.Group);_5A.Clip.prototype.setSegment=function(a,c){if(a&&a.length>0&&c){var b={name:a,options:JSON.clone(c)};this.dataRef.param.segments[a]=b}};
_5A.Clip.prototype.playSegment=function(a){if(a&&a.length>0){if((this.activeSeg=this.dataRef.param.segments[a])&&this.activeSeg.options)this.counter=this.activeSeg.options.from}else this.activeSeg=null};_5A.Clip.prototype.setSymbol=function(a){this.dataRef.param.symbolId=a};_5A.Clip.prototype.setSync=function(a){this.dataRef.param.sync=a};_5A.Clip.prototype.setRealtime=function(a){this.realtime=a};_5A.Clip.prototype.setBound=function(a){this.bound=JSON.clone(a)};
_5A.Clip.prototype._CB=function(a){a&&this.dataRef!=a&&_5A._B8.prototype._CB.call(this,a)};
_5A.Clip.prototype.draw=function(a,c){a.save();this._FB=c;var b=this._135(),d=Symbol._171(b.symbolId);if(d){_2D.unzip(d);var e=Symbol.getBound(d,true);if(e.width==0||e.height==0)e.left=b.left,e.top=b.top,e.right=b.left+16,e.bottom=b.top+16,e.width=16,e.height=16;var f=JSON.stringify(e)!=JSON.stringify(this.bound),g=!window.previewRender;this.bound||this.setBound(e);if(f){var f=b.startX-b.offsetX,h=b.startY-b.offsetY,i=1,j=1;b.rawWidth>0&&b.rawHeight>0&&(i=b.width/b.rawWidth,j=b.height/b.rawHeight);
b.offsetX=e.left-d.cw/2;b.offsetY=e.top-d.ch/2;this.setBound(e);b.startX=f+b.offsetX;b.startY=h+b.offsetY;b.left=b.startX;b.top=b.startY;b.endX=b.startX+e.width*i;b.endY=b.startY+e.height*j;b.right=b.endX;b.bottom=b.endY;b.width=e.width*i;b.height=e.height*j;b.rawWidth=e.width;b.rawHeight=e.height}_194=this._FB==1?0.8:1;a.globalAlpha=_194*b.alpha*this._14A.alpha;this._1AC(a);h=b.width*this._14A.scaleX/b.rawWidth;f=b.height*this._14A.scaleY/b.rawHeight;i=e.left*h;e=e.top*f;a.translate(b.startX-i,b.startY-
e);a.save();this.processFlip(a,b.width,b.height,i,e);e=0;if(g)if(e=Mugeda.getFrameLength(d.layers),b.sync)e=(window._132-this.frameId)%e;else if(this.activeSeg){b=this.activeSeg.options;from=parseInt(b.from);isNaN(from)&&(from=0);from=Math.max(0,from);i=parseInt(b.to);isNaN(i)&&(i=e-1);i=Math.min(e-1,i);from>i&&(from=i);if(this.counter<from)this.counter=from;else if(this.counter>i)this.counter=b.noLoop?i:from;e=this.counter++}else e=this.counter++%e;if(e>=0){if(this.eventListeners&&this.eventListeners.enterframe)for(b=
0;b<this.eventListeners.enterframe.length;b++)if(this.eventListeners.enterframe[b].call(this,e),!this.eventListeners.enterframe)break;_54(a,d.layers,e,{alpha:a.globalAlpha,scaleX:h,scaleY:f})}a.restore();if(!g&&!Mugeda.cleanRender)d=window._186.width*h/2,g=window._186.height*f/2,a.strokeStyle="#000",a.beginPath(),a.moveTo(d-4,g),a.arc(d,g,4,0,Math.PI*2,false),a.stroke(),a.globalAlpha=0.5,a.beginPath(),a.moveTo(d,g-4),a.lineTo(d,g+4),a.stroke();this._121(a,c);a.restore()}};
function _1C4(a,c,b,d,e){var f=_156(a.type,d?a:null);if(a.items&&a.items.length){for(var g=0;g<a.items.length;g++){var h=a.items[g],i=null;h.items&&h.items.length?i=_1C4(h,c,b,d,e):(i=_156(h.type,d?h:null),i._CB(h),i._42(c,b),Mugeda.setIdName(i.dataRef,i.dataRef.param.name,e),!d&&h.type==_5A._1B&&(h=ImageCache.getImage(h.guid))&&ImageCache._106(i.dataRef.guid,h));f._173(i)}f.dataRef.param=JSON.clone(a.param);Mugeda.setIdName(f.dataRef,f.dataRef.param.name,e)}else f._CB(a),f._42(c,b),Mugeda.setIdName(f.dataRef,
f.dataRef.param.name,e),!d&&a.type==_5A._1B&&(h=ImageCache.getImage(a.guid))&&ImageCache._106(f.dataRef.guid,h);return f}function _1B1(a){for(var c,b=[],d=[],e=[],f=0;f<a.length;f++)c=a[f].param,b.push(c.left),b.push(c.right),d.push(c.top),d.push(c.bottom),e.push(c.lineWidth/2);a={left:Math.min.apply(Math,b),right:Math.max.apply(Math,b),top:Math.min.apply(Math,d),bottom:Math.max.apply(Math,d),off:Math.max.apply(Math,e)+4};a.width=a.right-a.left;a.height=a.bottom-a.top;return a}
function _3F(a,c){var b,d;b=_1B1(a);b.width+=b.off*2;b.height+=b.off*2;(d=G("canvasBuffer"))?(d.width=b.width,d.height=b.height,d.style.width=b.width+"px",d.style.height=b.height+"px",_177({canvas:d,objects:a,preview:true,offset:{x:b.left-b.off,y:b.top-b.off}}),b=new Image,b.src=d.toDataURL("image/png"),b.onload=function(){c&&c(this)},b.onerror=function(){this.src="res/noimage.png";c&&c(this)},d.getContext("2d").clearRect(0,0,d.offsetWidth,d.offsetHeight)):c&&c(this)}
function _13D(a,c){var b=c.getContext("2d"),d=c.width,e=c.height,f,g,h,i;a.width/a.height>d/e?(f=a.width,g=e*f/d,i=0,h=(g-a.height)/2):(g=a.height,f=d*g/e,h=0,i=(f-a.width)/2);c.width=f;c.height=g;b.clearRect(0,0,f,g);b.drawImage(a,0,0,a.width,a.height,i,h,a.width,a.height);c.style.width=d+"px";c.style.height=e+"px"}
var TWEEN=TWEEN||function(){var a,c,b,d,e=[];return{start:function(a){b=setInterval(this.update,1E3/(a||60))},stop:function(){clearInterval(b)},add:function(a){e.push(a)},getAll:function(){return e},removeAll:function(){e=[]},remove:function(b){a=e.indexOf(b);a!==-1&&e.splice(a,1)},update:function(){a=0;c=e.length;for(d=(new Date).getTime();a<c;)e[a].update(d)?a++:(e.splice(a,1),c--)}}}();
TWEEN.Tween=function(a){var c={},b={},d={},e=1E3,f=0,g=null,h=TWEEN.Easing.Linear.EaseNone,i=null,j=null,k=null;this.to=function(b,c){c!==null&&(e=c);for(var f in b)a[f]!==null&&(d[f]=b[f]);return this};this.start=function(){TWEEN.add(this);g=(new Date).getTime()+f;for(var e in d)a[e]!==null&&(c[e]=a[e],b[e]=d[e]-a[e]);return this};this.stop=function(){TWEEN.remove(this);return this};this.delay=function(a){f=a;return this};this.easing=function(a){h=a;return this};this.chain=function(a){i=a};this.onUpdate=
function(a){j=a;return this};this.onComplete=function(a){k=a;return this};this.getFactor=function(a){a=Math.min(1,Math.max(0,a));return h(a)};this.update=function(d){var f,r;if(d<g)return true;d=(d-g)/e;d=d>1?1:d;r=h(d);for(f in b)a[f]=c[f]+b[f]*r;j!==null&&j.call(a,r);return d==1?(k!==null&&k.call(a),i!==null&&i.start(),false):true}};TWEEN.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};
TWEEN.Easing.Linear.EaseNone=function(a){return a};TWEEN.Easing.Quadratic.EaseIn=function(a){return a*a};TWEEN.Easing.Quadratic.EaseOut=function(a){return-a*(a-2)};TWEEN.Easing.Quadratic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a:-0.5*(--a*(a-2)-1)};TWEEN.Easing.Cubic.EaseIn=function(a){return a*a*a};TWEEN.Easing.Cubic.EaseOut=function(a){return--a*a*a+1};TWEEN.Easing.Cubic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*a:0.5*((a-=2)*a*a+2)};TWEEN.Easing.Quartic.EaseIn=function(a){return a*a*a*a};
TWEEN.Easing.Quartic.EaseOut=function(a){return-(--a*a*a*a-1)};TWEEN.Easing.Quartic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)};TWEEN.Easing.Quintic.EaseIn=function(a){return a*a*a*a*a};TWEEN.Easing.Quintic.EaseOut=function(a){return(a-=1)*a*a*a*a+1};TWEEN.Easing.Quintic.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)};TWEEN.Easing.Sinusoidal.EaseIn=function(a){return-Math.cos(a*Math.PI/2)+1};
TWEEN.Easing.Sinusoidal.EaseOut=function(a){return Math.sin(a*Math.PI/2)};TWEEN.Easing.Sinusoidal.EaseInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};TWEEN.Easing.Exponential.EaseIn=function(a){return a==0?0:Math.pow(2,10*(a-1))};TWEEN.Easing.Exponential.EaseOut=function(a){return a==1?1:-Math.pow(2,-10*a)+1};TWEEN.Easing.Exponential.EaseInOut=function(a){return a==0?0:a==1?1:(a*=2)<1?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)};
TWEEN.Easing.Circular.EaseIn=function(a){return-(Math.sqrt(1-a*a)-1)};TWEEN.Easing.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};TWEEN.Easing.Circular.EaseInOut=function(a){return(a/=0.5)<1?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};TWEEN.Easing.Elastic.EaseIn=function(a){var c,b=0.1,d=0.25;if(a==0)return 0;if(a==1)return 1;d||(d=0.3);!b||b<1?(b=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/b);return-(b*Math.pow(2,10*(a-=1))*Math.sin((a-c)*2*Math.PI/d))};
TWEEN.Easing.Elastic.EaseOut=function(a){var c,b=0.1,d=0.25;if(a==0)return 0;if(a==1)return 1;d||(d=0.3);!b||b<1?(b=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/b);return b*Math.pow(2,-10*a)*Math.sin((a-c)*2*Math.PI/d)+1};
TWEEN.Easing.Elastic.EaseInOut=function(a){var c,b=0.1,d=0.25;if(a==0)return 0;if(a==1)return 1;d||(d=0.3);!b||b<1?(b=1,c=d/4):c=d/(2*Math.PI)*Math.asin(1/b);return(a*=2)<1?-0.5*b*Math.pow(2,10*(a-=1))*Math.sin((a-c)*2*Math.PI/d):b*Math.pow(2,-10*(a-=1))*Math.sin((a-c)*2*Math.PI/d)*0.5+1};TWEEN.Easing.Back.EaseIn=function(a){return a*a*(2.70158*a-1.70158)};TWEEN.Easing.Back.EaseOut=function(a){return(a-=1)*a*(2.70158*a+1.70158)+1};
TWEEN.Easing.Back.EaseInOut=function(a){return(a*=2)<1?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};TWEEN.Easing.Bounce.EaseIn=function(a){return 1-TWEEN.Easing.Bounce.EaseOut(1-a)};TWEEN.Easing.Bounce.EaseOut=function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};
TWEEN.Easing.Bounce.EaseInOut=function(a){return a<0.5?TWEEN.Easing.Bounce.EaseIn(a*2)*0.5:TWEEN.Easing.Bounce.EaseOut(a*2-1)*0.5+0.5};function _10D(a,c){var b=[],d=new TWEEN.Tween({x:0});d.to({x:1},1E3);c||(c="Quartic.EaseOut");d.easing(eval("TWEEN.Easing."+c));for(var e=0;e<a;e++)b[e]=d.getFactor(e/a);return b}
Zoom={_1B4:function(a,c,b){if(b){var d=0;a.zoomInfo[c+1]=JSON.clone(b)}},updateLayersAfterZoom:function(a,c){for(var b=a.length,d=0;d<b;d++)for(var e=a[d].units,f=e.length,g=0;g<f;g++){for(var h=e[g],i=h.objects,j=i.length,k=0;k<j;k++){var o=_116(i[k]);o&&o._19D(c,c,true);for(var o=h.keyframes,l=o.length,r=0;r<l;r++)_AE.scale(o[r].param,c,c)}if(h.animated&&h.path&&(i=_116({guid:h.guidPath})))i._19D(c,c,true),_147(h,i)}},_6C:function(a,c){this.updateLayersAfterZoom(a.layers,c)},_9B:function(a,c,b,
d){var a=a._135(),e=typeof a.offsetX!="undefined"?-a.offsetX:0,f=typeof a.offsetY!="undefined"?-a.offsetY:0;return!(a.right+e<c.offsetLeft-_5A.PADDING||a.left+e>c.offsetLeft+b+_5A.PADDING||a.bottom+f<c.offsetTop-_5A.PADDING||a.top+f>c.offsetTop+d+_5A.PADDING)},_E5:function(a,c){var b=a.zoomInfo,d=false;c++;for(index in b)if(index==c){delete b[index];d=true;break}return d},_11C:function(a,c,b){var d=null;if(c==-1)return d=JSON.clone(a.zoomInfo[0]),d.type=0,d;a=a.zoomInfo;c++;var e=-1,f=-1;for(g in a)if(a[g]){if(g==
c){d=a[g];d.type=1;break}if(g<c)e=g;else if(g>c){f=g;break}}if(!d){var g=parseInt(e),h=parseInt(f),i="None";e>=0&&(i=a[e].tween||"None");if(b==1)d=g>=0?JSON.clone(a[e]):null,d.type=2;else if(b==2){if(g==c||g==0&&c==1)d=JSON.clone(a[e]),d.type=3}else if(g>=0&&(h<0||i=="None"))d=JSON.clone(a[e]),d.type=4;else if(g>=0&&h>g&&i!="None"){d={zoomLevel:1,offsetLeft:0,offsetTop:0,tween:i,rotation:0};b=a[e];a=a[f];g==0&&(g=1);var g,c=_10D(h-g,d.tween)[c-g],f=1/b.zoomLevel;d.zoomLevel=1/(f+c*(1/a.zoomLevel-
f));d.offsetLeft=b.offsetLeft+c*(a.offsetLeft-b.offsetLeft);d.offsetTop=b.offsetTop+c*(a.offsetTop-b.offsetTop);d.rotation=b.rotation+c*(a.rotation-b.rotation);d.type=5}}if(d&&d.rotation==void 0)d.rotation=0;return d}};function _105(a,c,b){c=-c.rotation;if(c!=0){var d=Math.sqrt(b.width*b.width+b.height*b.height)/2,e=Math.atan2(b.height,b.width),f=d*Math.cos(c+e);d*=Math.sin(c+e);a.translate(b.width/2-f,b.height/2-d);a.rotate(c)}}var built=false;
function _177(a){a||(a={});var c,b,d=window._132,e=a.canvas;if(a._186){window._186=a._186;if(!a.color)a.color=window._186.color;if(!a.layers)a.layers=window._186.layers;if(a.frameId!=void 0)d=a.frameId}if(e.width!=e.offsetWidth||e.height!=e.offsetHeight)e.width=e.offsetWidth,e.height=e.offsetHeight;c=e.getContext("2d");c.clearRect(0,0,e.width,e.height);if(a.color)e.bkColor=a.color,e.style.backgroundColor=a.color;if(!a.clear){if(a.repair&&!built)built=true,a.layers=_128(a.layers);if(!a.objects)for(e=
a.layers.length-1;e>=0;e--){var f=a.layers[e];f.objs=[];for(var g=f.units.length,h=0;h<g;h++){var i=f.units[h],j=i.objects.length;if(i&&d>=i.frameStart&&d<i.frameStart+i.frameCount){f.unit=i;if(i.audio&&!a.silent){var k="l"+e+"u"+h;if(d==i.frameStart){if(b=AudioCache.getAudio(i.id)){if(b.currentTime)b.currentTime=0;try{b.play()}catch(o){}}_5A._90&&_5A._90(k,i.audio,d,_5A._4F)}else if(d==i.frameStart+i.frameCount-1){if(b=AudioCache.getAudio(i.id))try{b.pause()}catch(l){}_5A._90&&_5A._90(k,i.audio,
d,_5A._1AF)}}if(j)for(k=0;k<j;k++){objData=i.objects[k];b=_116(objData);Mugeda.processObjectBehavior(b,0);if(i.animated&&j==1){var r=_18F._38(i,d);b=i.objects[k].param;r?_AE.exchange(r.param,objData.param,true):((r=_18F._E6(i,d,b))&&_AE.exchange(r,b,true),r&&_AE.exchange(r,objData.param,true))}else i.pg&&(b.progressMode==4||b.progressMode==5)?(r=_18F.getProgressParam(i,b,d,{tween:"Elastic.EaseOut"}))&&_AE.exchange(r,objData.param,true):i.animated||_18F.distributeProgress(i);f.objs.push(i.objects[k])}}}}c.save();
e=null;(f=this.prevZoomInfo)||(f=Zoom._11C(window._186,-1));g=window._186.zoomInfo.length;a.preview?e=Zoom._11C(window._186,-1):d==0||g==1?(e=window._186.zoomInfo[1],e||(e={zoomLevel:1,offsetLeft:0,offsetTop:0,rotation:0},g>1&&(window._186.zoomInfo[1]=e))):e=Zoom._11C(window._186,d);f&&(d=e.zoomLevel/f.zoomLevel,(f.offsetLeft!=e.offsetLeft||f.offsetTop!=e.offsetTop||Math.abs(d-1)>0.001)&&Zoom.updateLayersAfterZoom(window.aniLayers,d));this.prevZoomInfo=JSON.clone(e);_105(c,e,window._186);c.translate(-e.offsetLeft*
e.zoomLevel,-e.offsetTop*e.zoomLevel);a.offset&&c.translate(-a.offset.x,-a.offset.y);if(a.objects)for(e=0;e<a.objects.length;e++)b=a.objects[e],b=_116(b),b.draw(c,0);else _AB.drawLayer(c,a.layers,e);c.restore()}}
_AB={zoomInfo:null,drawLayer:function(a,c,b,d){function e(a){var b=false;if(a.items&&a.items.length)for(var c=0;c<a.items.length;c++){if(b=e(a.items[c]))break}else if(a.type==_5A._DC||a.type==_5A._124)b=true;return b}function f(a){if(!a||!a.objects)return false;for(var b=false,c=a.objects.length,d=0;d<c;d++)if(e(a.objects[d])){b=true;break}return b}var g,h,d=d==void 0?0:d,i=d&1;d&=2;zoomInfo=b;b=a.canvas.width;h=a.canvas.height;zoomInfo?(zoomInfo.left=Math.round(zoomInfo.offsetLeft*(d?1:zoomInfo.zoomLevel)),
zoomInfo.top=Math.round(zoomInfo.offsetTop*(d?1:zoomInfo.zoomLevel))):zoomInfo={left:0,top:0};zoomInfo.width=b;zoomInfo.height=h;for(b=c.length-1;b>=0;b--)if(d=c[b],!d.hide||!i){h=d.objs;if(d.maskMode){if(d.maskMode==2)for(;g=c[b-1];)if(g.maskMode==2)h=h.concat(g.objs),delete g.objs,b--;else{g.maskMode==1&&(_AB.draw(a,h,g.objs),delete g.objs,b--);break}}else{unit=d.unit||{};if(cache=f(unit)||unit.pg||Math.abs(zoomInfo.zoomLevel-1)>0.01?null:ObjectCache.getCache(unit.id||""))unit.animated?(g=unit.objects,
g.length&&(g=_116(g[0]),g.draw(a,0,cache))):(h=cache.bound,a.drawImage(cache.img,h.left,h.top));else for(var j=0;j<h.length;j++)g=h[j],g=_116(g),g.draw(a,0);delete d.unit}delete d.objs}},draw:function(a,c,b){var d=this.getContext(a),b=this.getBoundary(d.mask,b),c=this.getBoundary(d.masked,c);if(c.left<b.left)c.left=b.left;if(c.top<b.top)c.top=b.top;if(c.right>b.right)c.right=b.right;if(c.bottom>b.bottom)c.bottom=b.bottom;c.left=parseInt(c.left);c.top=parseInt(c.top);c.right=parseInt(c.right);c.bottom=
parseInt(c.bottom);c.width=c.right-c.left;c.height=c.bottom-c.top;if(!(c.width==0||c.height==0)){for(var e=d.mask.getImageData(c.left-zoomInfo.left,c.top-zoomInfo.top,c.width,c.height),b=d.masked.getImageData(c.left-zoomInfo.left,c.top-zoomInfo.top,c.width,c.height),e=e.data,f=b.data,g=1/255,h=0;h<e.length;h+=4)f[h+3]=e[h+3]*f[h+3]*g;e=d.mask.canvas;e.width=c.width;e.height=c.height;d.mask.putImageData(b,0,0);a.drawImage(e,c.left,c.top)}},getContext:function(a){var c=a.canvas,a=c.width,c=c.height,
b=G("maskPannel");if(!b)b=document.createElement("div"),b.id="maskPannel",b.style.display="none",b.innerHTML="<canvas></canvas><canvas></canvas>",document.body.appendChild(b);var d=b.childNodes[0],b=b.childNodes[1];d.width=b.width=a;d.height=b.height=c;return{mask:d.getContext("2d"),masked:b.getContext("2d")}},getBoundary:function(a,c){for(var b,d,e,f,g=a.canvas,h,i=zoomInfo.left,j=zoomInfo.top,k=zoomInfo.left+zoomInfo.width,o=zoomInfo.top+zoomInfo.height,l={left:k,top:o,right:i,bottom:j},r=0;r<c.length;r++){g=
c[r];b=g.param;aniobj=_116(g);f=aniobj._20();h=b.lineWidth||1;b=f.left-h;d=f.top-h;e=f.right+h;f=f.bottom+h;if(b<l.left)l.left=b;if(e>l.right)l.right=e;if(d<l.top)l.top=d;if(f>l.bottom)l.bottom=f;g=_116(g);a.save();a.translate(-zoomInfo.left,-zoomInfo.top);g.draw(a,0);a.restore()}l.left-=4;l.top-=4;l.right+=4;l.bottom+=4;if(l.left>l.right)l.left=l.right;if(l.top>l.bottom)l.top=l.bottom;if(l.left<i)l.left=i;if(l.top<j)l.top=j;if(l.right>k)l.right=k;if(l.bottom>o)l.bottom=o;return l}};
var ObjectCache={hash:{},count:0,counter:0,cacheAmount:0,onCached:null,init:function(a,c){if(a.cM){this.initCanvas(a);if(!window.built){built=true;a.layers=_128(a.layers);for(var b=0;b<a.symbols.length;b++)a.symbols[b].layers=_128(a.symbols[b].layers)}for(var d=a.layers,e=d.length-1;e>=0;e--)for(var f=d[e].units,g=0;g<f.length;g++)f[g].objects.length&&(this.cacheUnit(f[g]),this.cacheAmount++);for(var h=a.symbols,b=0;b<h.length;b++){d=h[b].layers;for(e=d.length-1;e>=0;e--){f=d[e].units;for(g=0;g<f.length;g++)f[g].objects.length&&
(this.cacheUnit(f[g]),this.cacheAmount++)}}onCached=c}else c()},initCanvas:function(a){this.width=a.width||600;this.height=a.height||400;a=document.createElement("canvas");document.body.appendChild(a);a.width=this.width;a.height=this.height;a.style.position="absolute";a.style.left="50px";a.style.top="50px";a.style.display="none";this.ctx=a.getContext("2d");a=a.cloneNode(true);document.body.appendChild(a);this.ctxmin=a.getContext("2d")},getMaxSize:function(a){for(var c={width:0,height:0},a=a.keyframes,
b=0;b<a.length;b++){var d=a[b].param;if(d.width>c.width)c.width=d.width;if(d.height>c.height)c.height=d.height}return c},getMaxLineWidth:function(a){var c=0;if(c<a.param.lineWidth)c=a.param.lineWidth;a=a.items||[];if(a.length)for(var b in a){var d=this.getMaxLineWidth(a[b]);c<d&&(c=d)}return c},getUnitGuid:function(a){var c=""+(a.id||"");c.length<5&&(c+="_"+a.layerId);return c},cacheUnit:function(a){var c=this.getUnitGuid(a);if(c&&!this.hash[c]){this.ctx.clearRect(0,0,this.width,this.height);var b=
{left:_5A._163,top:_5A._163,right:-_5A._163,bottom:-_5A._163},d=a.objects,e=0;this.ctx.save();for(var f=false,g=0;g<d.length;g++){var h=d[g];if(h.type==_5A._DC||h.type==_5A._124||h.type==_5A._1B)f=true}for(g=0;g<d.length;g++){h=d[g];if(a.animated){var i=this.getMaxSize(a);h.param.width=i.width;h.param.right=h.param.left+h.param.width;h.param.endX=h.param.right;h.param.height=i.height;h.param.bottom=h.param.top+h.param.height;h.param.endY=h.param.bottom;i=this.getMaxLineWidth(h);h.param.lineWidth=
i;h.param.alpha=1;h.param.rotate=0}var i=_116(h),i=i._20(),e=Math.ceil(1+(h.param.lineWidth||1)/2),h=i.left-e,j=i.top-e,k=i.right+e,i=i.bottom+e;if(b.left>h)b.left=h;if(b.top>j)b.top=j;if(b.right<k)b.right=k;if(b.bottom<i)b.bottom=i}b.left=Math.floor(b.left);b.top=Math.floor(b.top);b.right=Math.ceil(b.right);b.bottom=Math.ceil(b.bottom);if(!a.animated){if(b.left<0)b.left=0;if(b.top<0)b.top=0;if(b.right>this.width)b.right=this.width;if(b.bottom>this.height)b.bottom=this.height}b.width=b.right-b.left;
b.height=b.bottom-b.top;g=this.ctx.canvas;g.width=b.width;g.height=b.height;a=g.height==0||g.width==0;this.ctx.translate(-b.left,-b.top);for(g=0;g<d.length;g++)h=d[g],i=_116(h),i.draw(this.ctx,0);this.ctx.restore();g=new Image;g.src=a?"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==":this.ctx.canvas.toDataURL("image/png");g.onload=function(){ObjectCache.hash[c]={img:this,bound:b,offset:e};ObjectCache.counter++;ObjectCache.cacheAmount==ObjectCache.counter&&typeof onCached!=
"undefined"&&onCached!=null&&setTimeout(onCached);typeof LoadingProcess!="undefined"&&LoadingProcess.updateTo(100+Math.floor(0*ObjectCache.counter/ObjectCache.cacheAmount),"Loading...")};if(f)for(g=0;g<d.length;g++)h=d[g],h.type==_5A._DC||h.type==_5A._124||h.type==_5A._1B||this.cacheObject(h)}},cacheObject:function(a){var c=a.guid;if(c&&!this.hash[c]){var b=_116(a);this.ctx.clearRect(0,0,this.width,this.height);b.draw(this.ctx,0);var b=b._20(),d=1+(a.param.lineWidth||1)/2,e={left:b.left-d,top:b.top-
d,right:b.right+d,bottom:b.bottom+d};if(e.left<0)e.left=0;if(e.top<0)e.top=0;if(e.right>this.width)e.right=this.width;if(e.bottom>this.height)e.bottom=this.height;e.width=e.right-e.left;e.height=e.bottom-e.top;b=this.ctxmin;a=b.canvas;a.width=e.width;a.height=e.height;b.drawImage(this.ctx.canvas,e.left,e.top,e.width,e.height,0,0,e.width,e.height);b=new Image;b.src=a.toDataURL("image/png");b.onload=function(){ObjectCache.hash[c]={img:this,bound:e,offset:d}}}},getCache:function(a){return this.hash[a]}};
Symbol={_1A:{},_F0:{},_102:{},build:function(a,c){this.builds(a||[]);c()},builds:function(a,c){var b,d=0,e=a.length;if(!e)return c&&c(),0;for(var f=0;f<e;f++)b=a[f],b.layers=_128(b.layers||[]),d++;return e},_106:function(a,c){if(a&&a.layers&&a.layers.length){var b=this._18D(a.layers);_3F(b,function(a){c&&c(a)})}},getSymbolsByName:function(a){for(var c=[],b=window._186.symbols||[],d=0;d<b.length;d++)b[d].name==a&&c.push(b[d]);return c},_171:function(a){for(var c=window._186.symbols||[],b=0;b<c.length;b++)if(c[b].id==
a)return c[b];return null},_18D:function(a){var c=[];if(a)for(var b=a.length-1;b>=0;b--)for(var d=a[b].units,e=0;e<d.length;e++)for(var f=d[e].objects,g=0;g<f.length;g++)c.push(f[g]);return c},getBound:function(a,c){var b=this._102[a.id];if(!b||a.dirtyFlag)b=this.getBoundary(this._18D(a.layers),c),this._102[a.id]=b,a.dirtyFlag=false;return b},getBoundary:function(a,c){var b=_5A._163,d=_5A._163;if(a.length==0)return{left:0,top:0,right:0,bottom:0,width:0,height:0};for(var e={left:b,top:d,right:0,bottom:0},
f=0;f<a.length;f++){var g=_116(a[f]);if(g){g=g._20();if(g.left<e.left)e.left=g.left;if(g.right>e.right)e.right=g.right;if(g.top<e.top)e.top=g.top;if(g.bottom>e.bottom)e.bottom=g.bottom}}if(!c){if(e.left<0)e.left=0;if(e.top<0)e.top=0;if(e.right>b)e.right=b;if(e.bottom>d)e.bottom=d}e.width=e.right-e.left;e.height=e.bottom-e.top;return e}};
function _FD(a,c,b){var d=0;if(!a)return 0;if(a.items&&a.items.length)for(var e=0;e<a.items.length;e++)d+=_FD(a.items[e],c,b);else if(a.type==_5A._1B&&a.param.imageSrc.length>0)d++,e=new Image,e.src=a.param.imageSrc,e.object=a,e.guid=a.guid,e.onload=function(){c(a)},e.onerror=b;return d}
ImageCache={images:{},init:function(a,c){function b(a){if(this.guid)a=a.dataRef.param,a.rawWidth=this.width,a.rawHeight=this.height,g[this.guid]=this;e++;typeof LoadingProcess!="undefined"&&LoadingProcess.updateTo(65+Math.floor(35*e/f),"Loading...");e==f&&c(h)}function d(){this.guid&&(g[this.guid]=this);if(this.object)this.object.param.imageSrc="res/noimage.png",this.src=this.object.param.imageSrc;e++;h++;typeof LoadingProcess!="undefined"&&LoadingProcess.updateTo(65+Math.floor(35*e/f),"Loading...");
e==f&&c(h)}for(var e=0,f=0,g=this.images,h=0,i=a.layers,j=i.length-1;j>=0;j--)for(var k=i[j].units,o=0;o<k.length;o++)for(var l=k[o].objects,r=0;r<l.length;r++){var t=l[r];f+=_FD(t,b,d)}for(var u=a.symbols,v=0;v<u.length;v++){i=u[v].layers;for(j=i.length-1;j>=0;j--){k=i[j].units;for(o=0;o<k.length;o++){l=k[o].objects;for(r=0;r<l.length;r++)t=l[r],f+=_FD(t,b,d)}}}f==0&&c()},_106:function(a,c){this.images[a]=c},getImage:function(a){return this.images[a]}};
AudioCache={audios:{},init:function(a,c){for(var b=navigator.userAgent.match(/iPad/i)!=null,d=navigator.userAgent.match(/iPhone/i)!=null,b=b||d,e=0,f=0,g=a.layers,d=[],h=g.length-1;h>=0;h--)for(var i=g[h].units,j=0;j<i.length;j++){var k=i[j];k.audio&&(e++,d.push(k))}for(h=0;h<e;h++)if(k=d[h],k.audio)g=new Audio,g.preload=true,g.src=k.audio,b?(f++,f==e&&c()):(g.addEventListener("loadedmetadata",function(){f++;typeof LoadingProcess!="undefined"&&LoadingProcess.updateTo(50+Math.floor(15*f/e),"Loading...");
f==e&&c()}),document.body.appendChild(g)),this.audios[k.id]=g;e==0&&c()},getAudio:function(a){return this.audios[a]},updateAudio:function(a,c){this.audios[a]=c}};function isDefined(a){return typeof a=="undefined"?false:true}
function _43(a){function c(a,b){for(var c=null,d=a.length,e=0;e<d;e++)if(w=a[e],w.id==b){c=w;break}return c}function b(b){for(var c=null,d=0;d<g;d++){var e=a.keyframes[d];if(e.nodeId==b){c=e;break}}return c}if(a){var d=typeof a.pathMode=="undefined"?_5A.PATHMODE_DEFAULT:a.pathMode;if(a.animated){for(var e=[],f=[],g=a.keyframes.length,h,i,j,k,o,l,r=d!=_5A.PATHMODE_UPDATE_KEYFRAME,t=0;t<g;t++){var u=a.keyframes[t];h=u.param;i=h.left+h.rotateCenterX;h=h.top+h.rotateCenterY;if(d==1){t<g-1?(j=a.keyframes[t+
1],k=j.param,j=k.left+k.rotateCenterX,k=k.top+k.rotateCenterY):(o=a.keyframes[t-1],l=o.param,o=l.left+l.rotateCenterX,l=l.top+l.rotateCenterY,j=2*i-o,k=2*h-l);t>0?(o=a.keyframes[t-1],l=o.param,o=l.left+l.rotateCenterX,l=l.top+l.rotateCenterY):(j=a.keyframes[t+1],k=j.param,j=k.left+k.rotateCenterX,k=k.top+k.rotateCenterY,o=2*i-j,l=2*h-k);var v=0.2;j=i+v*(j-i);k=h+v*(k-h);o=i+v*(o-i);l=h+v*(l-h)}else if(d==0)j=i,k=h,o=i,l=h;else if(d==2){var x=_8(a);if(!x)continue;typeof u.nodeId=="undefined"?(r=t>
0?t-1:0,e=a.keyframes[r],v=Math.abs(a.keyframes[t<g-1?t+1:t].id-e.id),v=(u.id-e.id)/v,e=x.dataRef.curve.points,Bezier._12B(e,r,v),r=false,w=e[t],w.id=_1BD(),u.nodeId=w.id,f[u.nodeId]=u.id,_147(a,x)):f[u.nodeId]=u.id;var w=c(a.path,u.nodeId);if(!w)continue;x=x._135();v=i-w.nodeX-x.left;x=h-w.nodeY-x.top;w.nodeX+=v;w.nodeY+=x;w.forwardX+=v;w.forwardY+=x;w.backwardX+=v;w.backwardY+=x}else if(d==3&&(x=_8(a))){e=x.dataRef.curve.points;x=x._135();for(v=e.length-1;v>=0;v--){var w=e[v],A=b(w.id);A?(A=A.param,
_AE.shift(A,x.left+w.nodeX-A.rotateCenterX-A.left,x.top+w.nodeY-A.rotateCenterY-A.top)):e.splice(v,1)}}if(d<2)w=_17E(i,h,j,k,o,l),w.id=_1BD(),e.push(w),u.nodeId=w.id}i=true;if(d<2)a.path&&delete a.path,a.path=e.slice(0),i=false;if(x=_8(a)){if(d==2){e=a.path;for(v=e.length-1;v>=0;v--)f[e[v].id]==void 0&&e.splice(v,1)}if(r){h=x._135();if(!i)h.left=0,h.top=0,h.startX=0,h.startY=0;x.dataRef.curve.points=[];x._19A(a.path,false)}_147(a,x)}}}}
function _128(a){var c=[];if(!a)a=window.aniLayers;for(var b=0;b<a.length;b++){var d=JSON.clone(a[b]);d.units=[];for(var e=a[b].units,f=[],g=0,h=0;h<e.length;h++){var i=e[h];if(!(i.frameStart>g)){var g=i.frameStart+i.frameCount,j=JSON.clone(i);if(j.id==void 0)j.id=_13E();if(j.id.toString().length<4)j.id=_13E();if(f[j.id]){for(var k=j.id+999;f[k];)k++;j.id=k}f[j.id]=j.id;j.objects=[];for(var k=j.keyframes.length,o=0;o<k;o++){var l=j.keyframes[o];j.hashKey["key_"+l.id]=l}if(j.path&&j.animated){if(k=
_8(j,1))k.dataRef.curve.points=[],k._19A(j.path,false),k=k.dataRef.param,k.left+=j.pathLeft,k.top+=j.pathTop,k.right+=j.pathLeft,k.bottom+=j.pathTop,k.startX=k.left,k.startY=k.top,k.endX=k.right,k.endY=k.bottom;if(j.pathMode==_5A.PATHMODE_UPDATE_PATH)j.pathMode=_5A.PATHMODE_UPDATE_KEYFRAME;_43(j)}k=i.objects;for(o=0;o<k.length;o++)obj=_1C4(k[o],d.id,i.frameStart,true,2),_18F._173(j,obj,true,a);d.units.push(j)}}c.push(d)}return c}
function _147(a,c){if(a&&c){var b=c._135();a.path=c.dataRef.curve.points.slice(0);a.pathLeft=b.left;a.pathTop=b.top}}function _141(a,c,b,d,e,f){return Math.pow(c,3)*b+3*Math.pow(c,2)*a*d+3*c*Math.pow(a,2)*e+Math.pow(a,3)*f}function _5(a,c,b){var d=1-b,e=a.nodeY,f=a.forwardY,g=c.backwardY,h=c.nodeY,a=_141(b,d,a.nodeX,a.forwardX,c.backwardX,c.nodeX),b=_141(b,d,e,f,g,h);return{x:a,y:b}}
Bezier={Point:function(a,c,b,d,e,f){this.nodeX=a;this.nodeY=c;this.forwardX=b;this.forwardY=d;this.backwardX=e;this.backwardY=f},_18A:function(a,c,b,d,e,f){return _141(a,c,b,d,e,f)},getPoint:function(a,c,b){return _5(a,c,b)},_86:function(a,c,b,d,e){return[a+(b-a)*e,c-(c-d)*e]},_8B:function(a,c,b){var d=this._86(a.nodeX,a.nodeY,a.forwardX,a.forwardY,b),e=this._86(a.forwardX,a.forwardY,c.backwardX,c.backwardY,b),c=this._86(c.backwardX,c.backwardY,c.nodeX,c.nodeY,b),a=this._86(d[0],d[1],e[0],e[1],b),
e=this._86(e[0],e[1],c[0],c[1],b),b=this._86(a[0],a[1],e[0],e[1],b);return{point:{nodeX:b[0],nodeY:b[1],forwardX:e[0],forwardY:e[1],backwardX:a[0],backwardY:a[1]},forward:{x:d[0],y:d[1]},backward:{x:c[0],y:c[1]}}},_A1:function(a,c){return Math.sqrt(Math.pow(a.x-c.x,2)+Math.pow(a.y-c.y,2))},_191:function(a,c){var b,d,e,f,g,h={},i=a.length;c||(c=2);for(var j=0;j<i;j++){e=a[j];f=a[j+1==i?0:j+1];b=this._8B(e,f,0.5).point;g=Math.round(c*(Math.sqrt(Math.pow(e.nodeX-b.nodeX,2)+Math.pow(e.nodeY-b.nodeY,2))+
Math.sqrt(Math.pow(b.nodeX-f.nodeX,2)+Math.pow(b.nodeY-f.nodeY,2))));for(var k=0;k<g;k++)if(b=this._8B(e,f,k/g),d=Math.round(b.point.nodeX)+","+Math.round(b.point.nodeY),!h[d])b.index=j,b.ratio=k/g,h[d]=b}return h},_9C:function(a,c){c.splice(a,1)},_12B:function(a,c,b){points=a;var d=points.length,e=c+1;e==d&&(e=0);Bezier.getPoint(points[c],points[e],b);var f,g,h,i,j={};f=points[c].nodeX+b*(points[c].forwardX-points[c].nodeX);g=points[c].nodeY+b*(points[c].forwardY-points[c].nodeY);h=points[e].backwardX+
b*(points[e].nodeX-points[e].backwardX);i=points[e].backwardY+b*(points[e].nodeY-points[e].backwardY);var k=points[c].forwardX+b*(points[e].backwardX-points[c].forwardX),o=points[c].forwardY+b*(points[e].backwardY-points[c].forwardY);j.backwardX=f+b*(k-f);j.backwardY=g+b*(o-g);j.forwardX=k+b*(h-k);j.forwardY=o+b*(i-o);j.nodeX=j.backwardX+b*(j.forwardX-j.backwardX);j.nodeY=j.backwardY+b*(j.forwardY-j.backwardY);a[c].forwardX=f;a[c].forwardY=g;a[e].backwardX=h;a[e].backwardY=i;c==d-1?points.push(j):
points.splice(e,0,j)},_C5:function(a,c,b){var d=b+1;d==a.length&&(d=0);a[b].forwardX=c.forward.x;a[b].forwardY=c.forward.y;a[d].backwardX=c.backward.x;a[d].backwardY=c.backward.y;c=c.point;c=new this.Point(c.nodeX,c.nodeY,c.forwardX,c.forwardY,c.backwardX,c.backwardY);a.splice(b+1,0,c)},isInPath:function(a,c,b){for(var d=[0,0,0,0],e=_5A._163,a={x:a,y:c},e=[{x:0,y:e},{x:0,y:e*-1},{x:e,y:0},{x:e*-1,y:0}],f,g,b=this.cut(b),c=0;c<b.length;c++)f=b[c],g=b[c==b.length-1?0:c+1],f={x:f.nodeX,y:f.nodeY},g=
{x:g.nodeX,y:g.nodeY},this._198(a,e[0],f,g)&&d[0]++,this._198(a,e[1],f,g)&&d[1]++,this._198(a,e[2],f,g)&&d[2]++,this._198(a,e[3],f,g)&&d[3]++;return Math.min(d[0],d[1],d[2],d[3])%2},_136:function(a,c,b,d){for(var e,f,a=Math.round(a),c=Math.round(c),g=Math.round(2*Math.sqrt(Math.pow(b.nodeX-d.nodeX,2)+Math.pow(b.nodeY-d.nodeY,2))),h=0;h<g;h++)if(f=h/g,e=this._8B(b,d,f),Math.round(e.point.nodeX)==a&&Math.round(e.point.nodeY)==c)return e.ratio=f,e},_CD:function(a,c,b){for(var d=this.isInPath(a,c,b),
e,f=b.length,g=0;g<2;g++){for(var h=0;h<2;h++)if(e=this.isInPath(a+4*(g?1:-1),c+4*(h?1:-1),b),e!=d)break;if(e!=d)break}if(e==d)return{mode:0};for(g=0;g<f;g++)if(e=b[g],e={x:e.nodeX,y:e.nodeY},e.x>=a-4&&e.x<=a+4&&e.y>=c-4&&e.y<=c+4)return{mode:1,point:e,index:g,curve:b};for(g=-4;g<=4;g++)for(h=-4;h<=4;h++)for(d=0;d<f;d++)if(e=this._136(a+g,c+h,b[d],b[d==f-1?0:d+1]))return{mode:2,point:{x:a+g,y:c+h},index:d,data:e,curve:b};return{mode:0}},getBoundary:function(a){for(var c,b,d,e;c=a.pop();){c=this.cut(c);
for(var f in c){b=c[f];d=b.nodeX;b=b.nodeY;e||(e={top:b,right:d,bottom:b,left:d});if(b<e.top)e.top=b;if(b>e.bottom)e.bottom=b;if(d<e.left)e.left=d;if(d>e.right)e.right=d}}return e},_11A:function(a,c,b){return(a.x-b.x)*(c.y-b.y)-(c.x-b.x)*(a.y-b.y)},_F4:function(a,c,b,d){return Math.max(a.x,c.x)>=Math.min(b.x,d.x)&&Math.max(b.x,d.x)>=Math.min(a.x,c.x)&&Math.max(a.y,c.y)>=Math.min(b.y,d.y)&&Math.max(b.y,d.y)>=Math.min(a.y,c.y)&&this._11A(b,c,a)*this._11A(c,d,a)>=0&&this._11A(a,d,b)*this._11A(d,c,b)>=
0},_198:function(a,c,b,d){if(this._F4(a,c,b,d))return{x:((c.x-a.x)*(b.x-d.x)*(b.y-a.y)-b.x*(c.x-a.x)*(b.y-d.y)+a.x*(c.y-a.y)*(b.x-d.x))/((c.y-a.y)*(b.x-d.x)-(c.x-a.x)*(b.y-d.y)),y:((c.y-a.y)*(b.y-d.y)*(b.x-a.x)-b.y*(c.y-a.y)*(b.x-d.x)+a.y*(c.x-a.x)*(b.y-d.y))/((c.x-a.x)*(b.y-d.y)-(c.y-a.y)*(b.x-d.x))}},slope:function(a,c){var b=c.x-a.x,d=c.y-a.y,d=Math.sqrt(Math.pow(b,2)+Math.pow(d,2));return Math.asin(b/d)*180/Math.PI||0},angle:function(a,c,b,d){return Math.abs(this.slope(a,c)-this.slope(b,d))},
isrep:function(a,c,b,d){return(c.y-a.y)*(b.x-d.x)==(c.x-a.x)*(b.y-d.y)},nearest:function(a,c,b,d){var e=this.cuts(a,c,0.5),f=this.cuts(b,d,0.5);e.unshift(a);f.unshift(b);e.push(c);f.push(d);for(var g,h,i,c=0;c<e.length;c++)for(b=0;b<f.length;b++)if(a=this._A1({x:e[c].nodeX,y:e[c].nodeY},{x:f[b].nodeX,y:f[b].nodeY}),g||(g=a),a<g)g=a,h=e[c],i=f[b],h.cross=i,i.cross=h;return[h,i]},getnear:function(a,c,b){for(var d,e=1,f,g=0.5,h=0.5,i={x:a.nodeX,y:a.nodeY};;){if(++e>=1E3)break;d=this._8B(a,c,h);d=d.point;
f={x:d.nodeX,y:d.nodeY};if(this._A1(b,f)<0.1)return d=new this.Point(d.nodeX,d.nodeY,d.forwardX,d.forwardY,d.backwardX,d.backwardY),d.ratio=h,d.index=a.index,d;g*=0.5;h+=g*(this._A1(b,i)<=this._A1(f,i)?-1:1)}},extend:function(a,c){for(var b=[this.cut(a),this.cut(c)],d=b[0].length,e=b[1].length,f,g,h,i,j,k,o,l,r=[[],[]],t=0;t<d;t++)for(var u=0;u<e;u++)if(j=b[0][t],k=b[0][t==d-1?0:t+1],o=b[1][u],l=b[1][u==e-1?0:u+1],f={x:j.nodeX,y:j.nodeY},g={x:k.nodeX,y:k.nodeY},h={x:o.nodeX,y:o.nodeY},i={x:l.nodeX,
y:l.nodeY},this._F4(f,g,h,i))if(this.isrep(f,g,h,i))i=this.getnear(j,k,i),f=this.getnear(o,l,f),f.nodeX=j.nodeX,f.nodeY=j.nodeY,i.nodeX=l.nodeX,i.nodeY=l.nodeY,a[t].cross=f,f.cross=a[t],c[u==e-1?0:u+1].cross=i,i.cross=c[u==e-1?0:u+1],r[0].push(i),r[1].push(f),r[0].splice(1,2),r[1].splice(1,2);else if(f=this.nearest(j,k,o,l))for(i=0;i<=1;i++){h=r[i];for(j=g=0;j<h.length;j++)if(h[j].index==f[i].index&&h[j].ratio>f[i].ratio){h.splice(j,0,f[i]);g=1;break}g||r[i].push(f[i])}for(i=0;i<=1;i++){d=i?c:a;for(t=
b=0;t<d.length;t++){j=d[t];k=d[t==d.length-1?0:t+1];for(u=0;u<r[i].length;u++)if(h=r[i][u],this._A1({x:j.nodeX,y:j.nodeY},{x:h.nodeX,y:h.nodeY})<0.5)j.cross=h.cross,h.cross.cross=j,r[i].splice(u,1);else if(this._A1({x:k.nodeX,y:k.nodeY},{x:h.nodeX,y:h.nodeY})<0.5)k.cross=h.cross,h.cross.cross=k,r[i].splice(u,1);else if(h.index==b)f=this._8B(j,k,j.ratio?(h.ratio-j.ratio)/(1-j.ratio):h.ratio),j.forwardX=f.forward.x,j.forwardY=f.forward.y,k.backwardX=f.backward.x,k.backwardY=f.backward.y,f=f.point,h.forwardX=
f.forwardX,h.forwardY=f.forwardY,h.backwardX=f.backwardX,h.backwardY=f.backwardY,d.splice(t+1,0,h),r[i].splice(u,1),b--;b++}}for(i=0;i<=1;i++){d=i?c:a;for(t=0;t<d.length;t++)h=d[t],h.next=d[t==d.length-1?0:t+1],h.prev=d[(t||d.length)-1],delete h.index,delete h.ratio}return[a,c]},cut:function(a){for(var c,b=[],d=0,e=a.length,f=0;f<e;f++)c=a[f],c=new this.Point(c.nodeX,c.nodeY,c.forwardX,c.forwardY,c.backwardX,c.backwardY),b.push(c);for(f=0;f<e;f++)if(a=f+1,a==e&&(a=0),c=b[f],a=b[a],c.index=d++,c=this.cuts(c,
a),a=c.length){for(var g=0;g<a;g++)b.splice(f+g+1,0,c[g]);e+=a;f+=a}return b},cuts:function(a,c,b){for(var d,e=[a,c],f=2,g=0;g<f-1;g++)if(a=e[g],c=e[g+1],d=this.put(a,c,b))a.forwardX=d.forward.x,a.forwardY=d.forward.y,c.backwardX=d.backward.x,c.backwardY=d.backward.y,d=d.point,d=new this.Point(d.nodeX,d.nodeY,d.forwardX,d.forwardY,d.backwardX,d.backwardY),d.ratio=((a.ratio||0)+(c.ratio||1))/2,d.index=a.index,e.splice(g+1,0,d),f++,g--;e.pop();e.shift();return e},put:function(a,c,b){var d,e=this._A1({x:a.nodeX,
y:a.nodeY},{x:c.nodeX,y:c.nodeY});if(!(e<0.5)){b&&e>b&&(d=1);if(!d){p={x:a.nodeX,y:a.nodeY};q={x:c.nodeX,y:c.nodeY};m={x:a.forwardX,y:a.forwardY};n={x:c.backwardX,y:c.backwardY};if(p.x==m.x&&p.y==m.y&&q.x==n.x&&q.y==n.y)return;this._198(p,q,m,n)&&(d=1)}d||this.angle(p,q,p,m)+this.angle(q,p,q,n)>10&&(d=1);if(d)return this._8B(a,c,0.5)}},_31:function(a,c){for(var b=[this.cut(a),this.cut(c)],d=b[0].length,e=b[1].length,f,g,h,i,j=0;j<d;j++)for(var k=0;k<e;k++)if(f=b[0][j],g=b[0][j==d-1?0:j+1],h=b[1][k],
i=b[1][k==e-1?0:k+1],f={x:f.nodeX,y:f.nodeY},g={x:g.nodeX,y:g.nodeY},h={x:h.nodeX,y:h.nodeY},i={x:i.nodeX,y:i.nodeY},this._198(f,g,h,i))return true},_80:function(a,c){for(var b,d=[],e=this.extend(a,c)[0];b=e.pop();)(b=b.cross)&&d.push(b);return d},_170:function(a,c){var b,d,e=a.length;if(e==c.length)for(var f=0;f<e;f++)if(b=a[f],d=c[f],b.nodeX==d.nodeX&&b.nodeY==d.nodeY&&b.forwardX==d.forwardX&&b.forwardX==d.forwardX&&b.backwardX==d.backwardX&&b.backwardX==d.backwardX)return true},_1A2:function(a,
c){var b;if(a.length==4&&c.length==4)for(var d=0;d<4;d++)b=a[d],b.nodeX+=0.3,b.nodeY+=0.3,b.forwardX+=0.3,b.forwardY+=0.3,b.backwardX+=0.3,b.backwardY+=0.3},_1C0:function(a,c){for(var b,d,e=[],f=a.pop();d=a.pop();){b=this._115(f,d,c);if(!a.length)break;f=b.pop();e=e.concat(b)}return b.concat(e)},_115:function(a,c,b){c=this.extend(a,c);a=c[0];c=c[1];if(a&&c&&!(a.length<2||c.length<2)){var d,e,f,g,h,i;g=0;for(var j=[],k=[],o,l,r;g<a.length;)d=a[g++],d.cross&&k.push(d);if(!k.length)switch(d=this.isInPath(c[0].nodeX,
c[0].nodeY,a),f=this.isInPath(a[0].nodeX,a[0].nodeY,c),b){case 3:if(d||f)return[a,c];case 2:if(d)return[c];if(f)return[a];default:return d?[a]:f?[c]:[a,c]}for(;k.length;){e=[];g=k[0];for(o=k[0];;){if(e.length>1&&(g==o||g==o.cross))break;e.push(g);for(f=k.length-1;f>=0;f--)d=r?g.cross:g,k[f]==d&&k.splice(f,1);d=g[l?"prev":"next"];d=Math.abs(Math.round(d.nodeX)-Math.round(g.nodeX))<3&&Math.abs(Math.round(d.nodeY)-Math.round(g.nodeY))<3?d:this._8B(l?d:g,l?g:d,0.06).point;d=this.isInPath(d.nodeX,d.nodeY,
r?a:c);switch(b){case 1:d&&(l=!l);break;case 2:d||(l=!l);break;case 3:if(!r&&d||r&&!d)l=!l}if(l)g.forwardX=h||g.backwardX,g.forwardY=i||g.backwardY;for(i=h=0;g=g[l?"prev":"next"];){if(d=g.cross){r=!r;h=d.backwardX;i=d.backwardY;d.backwardX=g[l?"forwardX":"backwardX"];d.backwardY=g[l?"forwardY":"backwardY"];g=d;break}if(l)d=g.backwardX,g.backwardX=g.forwardX,g.forwardX=d,f=g.backwardY,g.backwardY=g.forwardY,g.forwardY=f;e.push(g);if(e.length>300)return alert(_5A.Message._125),[]}}for(g=0;g<e.length;g++)delete e[g].cross;
j.push(e)}return j}}};
Mugeda={frameCache:{},data:{},trackHash:{},isSetTrack:false,frameId:0,preview:true,hitLink:null,useTouch:false,mapNameId:[],mapIdName:[],frameLength:0,useManul:false,manualControl:false,prevPos:{},mraidState:null,_186:null,cleanRender:false,setViewport:function(a){(viewport=document.querySelector("meta[name=viewport]"))&&viewport.setAttribute("content","width="+a)},scanAniData:function(a){a=a.layers;this.aniLayers=window.aniLayers=a;for(var c=a.length-1;c>=0;c--)for(var b=a[c].units,d=0;d<b.length;d++)for(var e=
b[d].objects,f=0;f<e.length;f++){var g=e[f];if(g.param.action=="behavior"&&g.param.behavior)Mugeda.manualControl=true}},updateViewport:function(){var a=this._186,c=function(){function a(){var b=document,c=b.createElement("div");c.style.height="2500px";b.body.insertBefore(c,b.body.firstChild);var d=b.documentElement.clientHeight>2400;b.body.removeChild(c);return d}var c=document.documentElement,e=c&&c.clientHeight===0;if(typeof document.clientWidth=="number")return function(){return{width:document.clientWidth,
height:document.clientHeight}};else if(e||a()){var f=document.body;return function(){return{width:f.clientWidth,height:f.clientHeight}}}else return function(){return{width:c.clientWidth,height:c.clientHeight}}}()();a.width/a.height>c.width/c.height?Mugeda.setViewport(a.width,a.height):Mugeda.setViewport(Math.floor(c.width*a.height/c.height),c.height)},removeIdName:function(a,c){var b=Mugeda.mapIdName[a];Mugeda.mapNameId[c]&&delete Mugeda.mapNameId[c];b&&delete Mugeda.mapIdName[a]},setIdName:function(a,
c,b){if(a&&c&&c.length>0){var d=a.guid,e=0,f=this.mapIdName[d];if(this.mapNameId[c]==void 0)c!=f&&(this.mapNameId[c]=d,this.mapIdName[d]=c,f&&delete this.mapNameId[f]);else if(b==1){b=c.split("_");f=1;if(b.length>1){c=b[0];b=parseInt(b[1]);if(isNaN(b)||b<=0)b=1;f=b}for(;this.mapNameId[c+"_"+f];)f++;c=c+"_"+f;this.mapNameId[c]=d;this.mapIdName[d]=c;a.param.name=c}else b==2?c!=f&&(this.mapNameId[c]=d,this.mapIdName[d]=c,f&&delete this.mapNameId[f]):e=1;return e}},setImageCacheCallback:function(a){_5A.ImageCacheCallback=
a},setAudioCallback:function(a){_5A._90=a},trackAction:function(a,c){var b=document.getElementById("divMugedaTrack");if(!b)b=document.createElement("div"),b.id="divMugedaTrack",b.style.display="none",document.body.appendChild(b);try{params="guid="+_13E()+"&urid="+this._186.urid+"&crid="+this._186.crid;for(item in c)params+="&"+item+"="+c[item];var d=a.indexOf("?");d<0&&(a=a+(d<0?"?":"&")+params);var e=new Image;e.src=a;b.appendChild(e);e.onerror=function(){e.src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}}catch(f){}},
setTrackAnchors:function(a){if(!this.isSetTrack){this.isSetTrack=true;var c=a.trackAnchors||[],b=_5A.MugedaTrackAnchors||[];b.length&&(c=c.concat(b));if(c.length){b=document.createElement("div");b.style.display="none";document.body.appendChild(b);var d=_13E(),a="&urid="+a.urid+"&crid="+a.crid;try{for(var e in c){var f=c[e],g=f.indexOf("?");f+=g<0?"?guid="+d+a:"&guid="+d+a;if(f&&!this.trackHash[f]){var h=new Image;h.src=f;b.appendChild(h);this.trackHash[f]=true;h.onerror=function(){h.src="data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}}}}catch(i){}}}},
_154:function(a,c,b,d){var c=Symbol.getBoundary(c),e=_156(_5A._DC),f=e.dataRef.param;f.symbolId=a.id;f.offsetX=c.left-a.cw/2;f.offsetY=c.top-a.ch/2;f.startX=(b||0)+f.offsetX;f.startY=(d||0)+f.offsetY;f.left=f.startX;f.top=f.startY;f.endX=f.startX+c.width;f.endY=f.startY+c.height;f.right=f.endX;f.bottom=f.endY;f.width=c.width;f.height=c.height;return e},createNewInstance:function(a,c){var c=c||{},b=Symbol.getSymbolsByName(a),d=null;if(b&&b.length){b=b[0];d=Symbol._18D(b.layers);b=Mugeda._154(b,d,0,
0);d=b._135();c.offsetX=d.offsetX;c.offsetY=d.offsetY;if(!c.above&&!c.below){var d=window._132,e=this._186.layers[0];len=e.units.length;for(var f,g=null,h=0;h<len;h++)if((f=e.units[h])&&d>=f.frameStart&&d<f.frameStart+f.frameCount){g=f;break}if(!g||g.animated)e=createNewLayer(0,data.layers),g=e.units[0];_18F._173(g,b)}this.processObjectOptions(b,c);d=b}return d},getLayerObj:function(a,c){for(var b=null,d=a.length-1;d>=0;d--)if(a[d].id==c){b=a[d];break}return b},getTimelineUnit:function(a,c,b){var d=
null,e=a.length,a=Mugeda.getLayerObj(a,c);if(!a||!a.units)return null;for(var e=a.units.length,f=0;f<e;f++)if((c=a.units[f])&&b>=c.frameStart&&b<c.frameStart+c.frameCount){d=c;break}return d},processObjectOptions:function(a,c){if(c){if(c.above){var b=c.above,d=b.layerId,e=b.frameId,d=Mugeda.getTimelineUnit(this._186.layers,d,e);_18F._173(d,a,false,null,b)}else if(c.below)b=c.above,d=b.layerId,e=b.frameId,d=Mugeda.getTimelineUnit(this._186.layers,d,e),_18F._173(d,a,false,null,b);c.rotation!=void 0&&
a.setRotation(c.rotation);c.visible!=void 0&&a.setVisible(c.visible);c.scaleX!=void 0&&c.scaleY!=void 0&&a.setScaleFactor(c.scaleX,c.scaleY);if(c.left!=void 0&&c.top!=void 0)b=c.left,d=c.top,c.positionMode==1&&(b+=c.offsetX,d+=c.offsetY),a.setPosition(b,d)}},duplicateObjectByName:function(a,c){var b=Mugeda.getObjectByName(a),d=null;if(b){var e=b.layerId,f=b.frameId,g=Mugeda.getTimelineUnit(this._186.layers,e,f);if(b=b.dataRef)d=_1C4(b,e,f,false,1),c.above==void 0&&_18F._173(g,d),this.processObjectOptions(d,
c)}return d},deleteObjectByName:function(a){var c=-1;if(a=Mugeda.getObjectByName(a)){var b=Mugeda.getTimelineUnit(this._186.layers,a.layerId,a.frameId);if(b)for(var d=b.objects.length-1;d>=0;d--)if(_116(b.objects[d])==a){Mugeda.removeIdName(b.objects[d].guid,b.objects[d].param.name);b.objects.splice(d,1);c=0;if(b.animated)b.animated=false;break}}return c},_CE:function(a,c,b){return{id:_13E(),layerId:a?a:0,frameStart:c?c:0,frameCount:b?b:1,animated:false,visible:true,objects:[],keyframes:[],hashKey:[]}},
_E2:function(a){a=a?a:0;return{id:a,name:Lang.LayerAttr+a,hide:false,lock:false,units:[]}},mraidExpand:function(a,c,b){if(window.mraidStatus==_5A.MRAID_READY){var b=b||{},d=parseInt(b.width)||window._186.width,e=parseInt(b.height)||window._186.height,f=window._186.color.replace(/.*,.*,.*,(.+)\)/,"$1"),f=isNaN(f)?1:parseFloat(f),g=!a||a.length==0;Math.abs(f);if(c==1)a=parseInt(b.left)||0,b=parseInt(b.top)||0,g=Mugeda.getCanvas(),c=getElementOffset(g),g=c.left+d-50,c=c.top+4,f=document.createElement("div"),
f.id="mugeda_mraid_close",f.align="middle",f.style.display="none",f.style.position="absolute",f.style.color="white",f.style.width="38px",f.style.height="38px",f.style.left=g+"px",f.style.top=c+"px",f.style.cursor="pointer",f.style.background="rgba(0,0,0,0.5)",f.style.border="4px solid white",f.style.borderRadius="23px",f.style.fontSize="24px",f.style.fontFamily="arial",f.style.lineHeight="38px",Mugeda.idResized="mugeda_mraid_close",f.innerHTML="&#10006;",document.body.appendChild(f),mraid.setResizeProperties({width:d,
height:e,offsetX:a,offsetY:b,allowOffscreen:false}),mraid.resize();else{if(!g)e=mraid.getMaxSize(),d=e.width,e=e.height;mraid.setExpandProperties({width:d,height:e,isModal:true,useCustomClose:false});g?mraid.expand():mraid.expand(a)}}},sendMessage:function(a,c,b){if(!(a.toLowerCase()=="mraid"&&window.mraidStatus!=_5A.MRAID_READY)){var c=a="",d;for(d in b)a+=d+"="+b[d]+c,c="&";a.length>0&&(a="?"+a);window.location=a}},createNewLayer:function(a,c){var b,a=a?a:0,c=c?c:window.aniLayers,d=[-1],e=Mugeda.getFrameLength(c);
for(b=0;b<c.length;b++)d.push(c[b].id);b=Math.max.apply(Math,d);b++;d=Mugeda._E2(b);b=Mugeda._CE(b);b.frameCount=e;_18F._9F(b,b.frameStart);d.units.push(b);if(a&&(e=c[a-1],e.maskMode!=void 0&&e.maskMode!=0))d.maskMode=2;c.splice(a,0,d);return d},startAnimation:function(a,c){function b(){if(!window.isEnd){var c,j=(new Date).getTime()-d;c=window._132;e++;var k=g*e;if(k<j){var o=Math.floor((j-k)/g);e+=o;k+=g*o}setTimeout(b,k-j);c>=h&&(c=h-1);window._132=c;_177({canvas:a,_186:f,layers:f.layers});Mugeda.postRender();
if(window._132>=h)if(f.loop!==true){if(window.isPause=true,window._132=h-1,c=G("play_and_pause"))c.className="c0"}else window._132=0}}var d=new Date,d=d.getTime(),e=0,f=c;this._186=c;Mugeda.setTrackAnchors(c);Mugeda.setupInput(c);Mugeda.scanAniData(f);window._132=0;var g=1E3/f.rate,h=this.getFrameLength(f.layers);b()},getEventPosition:function(a,c,b){var d;if(c.changedTouches&&(c=c.changedTouches[0],c==null))return null;d=c.clientX;c=c.clientY;if(b.offset)b=b.offset();else{for(var e={left:b.offsetLeft,
top:b.offsetTop};b=b.offsetParent;e.left+=b.offsetLeft-b.scrollLeft,e.top+=b.offsetTop-b.scrollTop);b=e}d-=b.left;c-=b.top;b=d;e=c;a&&(a=Zoom._11C(a,this.preview?window._132:-1),this.preview?(b+=a.offsetLeft*a.zoomLevel,e+=a.offsetTop*a.zoomLevel):(b+=a.offsetLeft,e+=a.offsetTop));return{x:b,y:e,rawX:d,rawY:c}},getCanvas:function(){return G("previewCanvas")},getObjectByName:function(a){var a=this.mapNameId[a],c=null;a&&(c=getAniObjectById(a));return c},setupInput:function(a){function c(b,c,d){var e=
Mugeda.getEventPosition(a,c,l);if(!e)return null;if(Mugeda.prevMode===d&&Mugeda.prevPos.x==e.x&&Mugeda.prevPos.y==e.y)return null;Mugeda.prevPos.x=e.x;Mugeda.prevPos.y=e.y;var f=Mugeda._CD(a.layers,-1,window._132,e.x,e.y,l);if(f)f.position=e;var g="default";b.hitLink=null;b.hitForm=null;b.behavior=null;if(f.object){var h=f.object.param;(h.action=="link"||h.action==void 0)&&h.url&&h.url.length?(g="pointer",b.hitLink=h.url,b.urlTarget=h.urlTarget):h.action=="form"&&h.form?(g="pointer",b.hitForm=h.form):
h.action=="behavior"&&h.behavior?(g="pointer",b.behavior=h.behavior):g="default";if(b=window.mugedaObjectHit||window.objectHit)f.mode=d,f.event=c,f.position=e,b(f,0)}else if(window.canvasLink||window.canvasForm)g="pointer";else if(b=window.mugedaObjectHit||window.objectHit)f.mode=d,f.event=c,f.position=e,f.isCanvas=true,b(f,0);l.style.cursor=g;return f}function b(b){Mugeda.touchMoved=false;if(window.mugedaInputEvent){var c=Mugeda.getEventPosition(a,b,l);window.mugedaInputEvent(0,b,c)}}function d(b){Mugeda.touchMoved=
true;if(window.mugedaInputEvent){var c=Mugeda.getEventPosition(a,b,l);window.mugedaInputEvent(1,b,c)}b.preventDefault()}function e(b){var d=c(this,b,0);d&&d.instance&&o.call(d.instance,b);window.mugedaInputEvent&&(d=Mugeda.getEventPosition(a,b,l),window.mugedaInputEvent(2,b,d));Mugeda.touchMoved&&b.preventDefault()}function f(a){Mugeda.hitMoveObj=c(this,a,1);Mugeda.hitMoveObj&&Mugeda.hitMoveObj.instance&&o.call(Mugeda.hitMoveObj.instance,a);if(Mugeda.previousHitMoveObj==void 0||Mugeda.hitMoveObj&&
Mugeda.hitMoveObj.instance!=Mugeda.previousHitMoveObj.instance)Mugeda.previousHitMoveObj&&Mugeda.previousHitMoveObj.instance&&(a=document.createEvent("MouseEvents"),a.initMouseEvent("mouseout",true,false,window,0,0,0,0,0,false,false,false,false,0,null),o.call(Mugeda.previousHitMoveObj.instance,a)),Mugeda.previousHitMoveObj=Mugeda.hitMoveObj,Mugeda.hitMoveObj.instance&&(a=document.createEvent("MouseEvents"),a.initMouseEvent("mouseover",true,false,window,0,0,0,0,0,false,false,false,false,0,null),o.call(Mugeda.hitMoveObj.instance,
a))}function g(a){Mugeda.hitStartObj=c(this,a,1);Mugeda.hitMoveObj=null;Mugeda.hitStartObj&&Mugeda.hitStartObj.instance&&o.call(Mugeda.hitStartObj.instance,a)}function h(a,b){window.mraidStatus==_5A.MRAID_READY?b=="internal"?mraid.open(a):b=="external"?window.open(a):b=="expand"&&Mugeda.mraidExpand(a,0):b=="internal"?window.location=a:window.open(a)}function i(a){var b=c(this,a,0);if(!(!Mugeda.hitStartObj&&Mugeda.hitMoveObj||Mugeda.hitStartObj&&Mugeda.hitMoveObj&&Mugeda.hitStartObj.object!=Mugeda.hitMoveObj.object)){b&&
b.instance&&o.call(b.instance,a,"click");var a=this.hitForm||window.canvasForm,d=this.behavior||window.canvasBehavior,e="";if(b&&b.object)e=b.object.param.name,e=!e||e.length==0?b.object.guid:e;b={id:e};if(this.hitLink)a=this.hitLink,h(a,this.urlTarget),b.action="link",b.url=escape(a);else if(a)(a=JSON.parse(a))&&Mugeda.popupForm(a);else if(d){if(behaviors=JSON.parse(d))if(Mugeda.processBehaviors(behaviors,"click"),behaviors.length>0)b.action=behaviors[0].type}else if(window.canvasLink)h(window.canvasLink,
window.canvasUrlTarget),b.action="link",b.url=escape(canvasLink);b.action&&Mugeda.trackAction(_5A.MugedaActionTracker,b)}}function j(a){var b=c(this,a,0);b&&b.instance&&o.call(b.instance,a)}function k(a){var b=c(this,a,0);b&&b.instance&&o.call(b.instance,a)}function o(a,b){b=b||a.type;b=="touchstart"?b="mousedown":b=="touchmove"?b="mousemove":b=="touchend"&&(b="mouseup");var c=this.eventListeners[b];if(c)for(var d=0;d<c.length;d++)c[d].call(this,a)==false&&a.stopPropagation()}if(!a.inputHooked){navigator.userAgent.match(/iPad/i);
navigator.userAgent.match(/iPhone/i);this.useTouch="ontouchstart"in window;var l=G("previewCanvas");window.canvasLink=null;window.canvasForm=null;window.canvasBehavior=null;window._132=0;if((a.action==void 0||a.action=="link")&&a.url&&a.url.length>0)window.canvasLink=a.url,window.canvasUrlTarget=a.urlTarget;else if(a.action=="form"&&a.form)window.canvasForm=a.form;else if(a.action=="action"&&a.behavior)window.canvasBehavior=a.behavior;Mugeda.touchMoved=false;var r=window.navigator.userAgent.indexOf("Android 2.3")>=
0;Mugeda.useTouch?(E(f,"touchmove",l),E(g,"touchstart",l),E(i,r?"click":"touchend",l),E(b,"touchstart",l),E(d,"touchmove",l),E(e,"touchend",l)):(E(f,"mousemove",l),E(g,"mousedown",l),E(i,"click",l),E(b,"mousedown",l),E(d,"mousemove",l),E(e,"mouseup",l),E(j,"dblclick",l),E(k,"mousewheel",l));a.inputHooked=true}},_CD:function(a,c,b,d,e){for(var c=c<0?-1:c,f,g=0,h,i=null,j=null,k=_5A._10F,o,l=-1,r=a.length-1;r>=0;r--)if(f=a[r],!(c>=0&&c!=f.id)){o=f.units.length;for(var t=0;t<o;t++)if(h=f.units[t],b>=
h.frameStart&&b<h.frameStart+h.frameCount){h=h.objects;g=h.length;for(g-=1;g>=0;g--)if(!(Math.abs(h[g].param.alpha)<0.001)){var u=_116(h[g]),k=u?u._CD(d,e,8):_5A._10F;if(k!=_5A._10F){i=h[g];j=u;l=r;break}}if(i)break}}return{object:i,instance:j,mode:k,layer:l}},onRenderReady:function(a){this._186=a;Mugeda.setViewport(a.width,a.height);Mugeda.createHTML5VideoTag();if(this.preview&&window.onMugedaRenderReady)window.onMugedaRenderReady();else if(this.preview&&window.onRenderReady)window.onRenderReady()},
setFrameout:function(a,c){c==0&&a.call(this);var b=this.frameOutList=this.frameOutList||[],d=b.length;if(d){do if(b[d-1].frames<=c)break;while(d--)}b[d]&&(b[d].frames-=c);d&&(c-=b[d-1].frames);b.splice(d,0,{frames:c,fun:a})},postRender:function(){var a=false;if(this.frameOutList)for(;this.frameOutList.length;)if(this.frameOutList[0].frames==1){var c=this.frameOutList[0].fun;this.frameOutList.splice(0,1);c.call(this);this.frameOutList[0]&&this.frameOutList[0].frames++}else{this.frameOutList[0].frames--;
break}window.mugedaEnterFrame?a=mugedaEnterFrame(window._132):window.enterFrame&&(a=enterFrame(window._132));!window.isPause&&!a&&window._132++},setMraidState:function(a){this.mraidState=a.toLowerCase();switch(this.mraidState){case "default":if(Mugeda.idResized)Mugeda.closeResized(Mugeda.idResized),Mugeda.idResized=void 0;Mugeda.gotoAndPlay(1);break;case "resized":Mugeda.idResized&&setTimeout(function(){var a=document.getElementById(Mugeda.idResized);if(a)a.style.display="block"},50)}},getAnimationLength:function(a){a=
Mugeda.getAnimation(a);if(!a)return 0;if(a.frameLength==void 0)a.frameLength=Mugeda.getFrameLength(a.layers);return a.frameLength},closeResized:function(a){a=document.getElementById(a);document.body.removeChild(a);window.mraidStatus==_5A.MRAID_READY&&mraid.close()},createHTML5VideoTag:function(){var a=document.getElementById("mugedaVideoHolder");if(a)return a;a=document.createElement("div");a.id="mugedaVideoHolder";a.style.margin=0;a.style.padding=0;a.style.backgroundColor="rgba(0,0,0,0.8)";a.style.position=
"fixed";a.style.top=0;a.style.left=0;a.style.width=0;a.style.height=0;a.innerHTML='<video id="mugeda_video" onclick="this.play();" controls="controls" style="width:100%;height:100%;"></video><div id="mugeda_video_close" align="middle" style="position: absolute;color:white;width: 24px;height: 24px;right: 8px;top: -16px;cursor:pointer;background: rgba(0,0,0,0.5);border: 3px solid white;border-radius: 15px;font-size: 18px;">&#10006;</div>';a.style.display="none";document.body.appendChild(a);G("mugeda_video").onclick=
function(){this.paused?this.play():this.pause()};return a},playHTML5Video:function(a){var c=a.left||0,b=a.top||0,d=a.width||this._186.width,e=a.height||this._186.height,f=Mugeda.getCanvas(),f=getElementOffset(f);c+=f.left;b+=f.top;f=Mugeda.createHTML5VideoTag();(f=document.getElementById("mugedaVideoHolder"))||(f=document.createElement("div"));f.style.top=b+"px";f.style.left=c+"px";f.style.width=d+"px";f.style.height=e+"px";f.style.display="block";var g=G("mugeda_video");a.url.split(".");G("mugeda_video_close").style.display=
a.close_button?"block":"none";g.src=a.url;g.load();setTimeout(function(){g.play();setTimeout(function(){if(a.close_button)G("mugeda_video_close").onclick=function(){var a=G("mugeda_video");if(a)a.src="",a.load();G("mugedaVideoHolder").style.display="none"}},1E3)},10)},play:function(a,c){var b=Mugeda.getAnimation(a);if(!b)return false;this._186=b;typeof c=="string"&&(c=G(c));c.innerHTML='<div id="mugeda_outer" style="position:absolute;min-width:0;"><canvas id="previewCanvas">This text is displayed if your browser does not support HTML5 Canvas.</canvas><div style="width:0;height:0;overflow:hidden;"><canvas id="canvasBuffer"></canvas></div></div>';
window._132=0;Mugeda.setTrackAnchors(b);Mugeda.setupInput(b);var d=b.width,e=b.height,f=G("previewCanvas");if(b.color)f.style.backgroundColor=b.color;if(b.image)f.style.backgroundPosition="center",f.style.backgroundRepeat="no-repeat",f.style.backgroundSize="100% 100%",f.style.backgroundImage="url("+b.image+")";if(b.width)f.width=d,f.style.width=c.style.width=d+"px";if(b.height)f.height=e,f.style.height=c.style.height=e+"px";if(!b.zoomInfo||!b.zoomInfo[0])b.zoomInfo=[{zoomLevel:1,offsetLeft:0,offsetTop:0,
rotation:0}];var g=this.getAnimationLength(a);this.canvas=f;window._186=b;ImageCache.init(b,function(a){a>0&&alert(_5A.Message._16B);b.layers=_128(b.layers);Symbol.build(b.symbols,function(){try{eval(b.script||"")}catch(a){console&&console.log((a.lineNumber||a.line)+": "+a)}Mugeda.onRenderReady(b);f.getContext("2d");gotoAndPlay=function(a){_132=Math.max(0,a-1)};setInterval(function(){if(!window.isEnd){try{_177({canvas:f,_186:b,layers:b.layers})}catch(a){}Mugeda.postRender();if(_132>=g)b.loop!==true?
(_132=g-1,window.isPause=true):_132=0}},1E3/b.rate)})});return true},getImage:function(a,c){var c=c||1,b=this.getAnimationLength(a);c>b&&(c%=b);window._132=c-1;_177({canvas:this.canvas,_186:this._186,repair:true});var b=G("previewCanvas").toDataURL("image/png"),d=new Image;d.src=b;return d},exportImage:function(a){a=this.getImage(a,10);window.open(a.src)},zipAniData:function(a){return _1C(a)},unzipAniData:function(a){return _4E(a)},getAnimation:function(a){var c=null;typeof a=="string"&&(c=Mugeda.data[a]);
if(c)if(c.vr&&c.vr>500)c=_4E(c),Mugeda.data[a]=c;else if(!c.isunzip&&c.version&&c.version<510)_2D.unzip(c),c.frameLength=Mugeda.getFrameLength(c.layers),c.isunzip=true;return c},getCacheFrame:function(a,c){return this.frameCache[a+"_"+c]},setCacheFrame:function(a,c,b){this.frameCache[a+"_"+c]=b},cacheAnimation:function(a,c){var b=this.getAnimation(a),d=null,e={buildCache:true,frameCallback:function(a,b){c&&c(b)==true&&clearInterval(d)},finishCallback:function(a,b){clearInterval(d);c&&c(b,true)}};
ImageCache.init(b,function(){b.layers=_128(b.layers);Symbol.build(b.symbols,function(){window.preload=true;d=setInterval(function(){Mugeda.playFrame(null,a,e)},1)})})},clearCache:function(a){var c=this.frameCache||{},b;for(b in c)b.split("_")[0]==a&&(delete c[b],c[b]=null)},playFrame:function(a,c,b){function d(a,b,c){var d=c.sourceX||0,e=c.sourceY||0,f=c.sourceW||h.width,g=c.sourceH||h.height,i=c.targetX||0,j=c.targetY||0,k=c.targetW||f,l=c.targetH||g,o=c.flipHorizontal?k:0,D=c.flipVertical?l:0,y=
c.flipHorizontal?-1:1,N=c.flipVertical?-1:1;a.save();c.clearBack&&a.clearRect(i,j,k,l);a.translate(i,j);if(c.flipHorizontal||c.flipVertical)a.translate(o,D),a.scale(y,N);a.drawImage(b,d,e,f,g,0,0,k,l);a.restore()}function e(e){try{var i;o||(i=Mugeda.getCacheFrame(c,k));if(i)a&&d(a,i,b);else if(_177({canvas:h,_186:f,repair:true,frameId:k,silent:true}),e){i=new Image;i.src=h.toDataURL("image/png");if(a)i.onload=function(){d(a,this,b)};o!=1&&Mugeda.setCacheFrame(c,k,i)}else d(a,h,b)}catch(j){}g.frameCallback&&
g.frameCallback(f,k);l&&g.finishCallback&&g.finishCallback(f,k)}var f=this.getAnimation(c);if(!f.zoomInfo||!f.zoomInfo[0])f.zoomInfo=[{zoomLevel:1,offsetLeft:0,offsetTop:0,rotation:0}];b||(b={});var g=b,h=f.cacheCanvas;if(!h){var i=document.createElement("div");i.innerHTML="<canvas></canvas>";i.style.overflow="hidden";i.style.width=0;i.style.height=0;document.body.appendChild(i);h=i.childNodes[0];h.width=f.width||600;h.height=f.height||400;f.color="transparent";f.cacheCanvas=h}i=f.layers;if(f.frameLength==
void 0)f.frameLength=Mugeda.getFrameLength(i);var i=this.getAnimationLength(c),j=g.previous;if(g.loop!=void 0)f.loop=g.loop;g.frameNo==void 0?g.frameId==void 0?g.frameId=0:g.frameId+=j?-1:1:g.frameId=g.frameNo;if(g.frameId==i)g.frameId=0;else if(g.frameId==-1)g.frameId=i-1;var k=g.frameId,o=g.cacheMode||0,l=k==i-1;window.preload?e(b.buildCache):ImageCache.init(f,function(){f.layers=_128(f.layers);Symbol.build(f.symbols,function(){window.preload=true;e(b.buildCache)})})},getFrameLength:function(a){for(var c=
1,b=a.length-1;b>=0;b--)for(var d=a[b],e=d.units.length,f=0;f<e;f++){var g=d.units[f],g=g.frameStart+g.frameCount;c<g&&(c=g)}return c},loadAudio:function(a){var c=document.createElement("audio");c.setAttribute("src",a);c.load();return c},sendEmail:function(a){window.open("mailto:"+a.email_addr+"?subject="+a.email_title+"&body="+a.email_body)},savePicture:function(a){window.mraidStatus==_5A.MRAID_READY&&mraid.supports("storePicture")&&mraid.storePicture(a.url)},addCalendarEvent:function(a){window.mraidStatus==
_5A.MRAID_READY&&mraid.supports("calendar")&&mraid.createCalendarEvent({summary:a.calendar_summary,description:a.calendar_desc,location:a.calendar_location,start:a.calendar_start_time,end:a.calendar_end_time})},playVideo:function(a){window.mraidStatus!=_5A.MRAID_READY?Mugeda.playHTML5Video({url:a.video_url,left:parseInt(a.video_left),top:parseInt(a.video_top),width:parseInt(a.video_width),height:parseInt(a.video_height),close_button:parseInt(a.video_close)==1,auto:parseInt(a.video_autoplay)==1}):
mraid.playVideo(a.video_url)},sendShortMessage:function(a){window.open("sms:"+a.phone_number+"?body="+a.sms_body)},makePhoneCall:function(a){window.open("tel:"+a.phone_number)},gotoAndPlay:function(a){this.manualControl=true;window._132=Math.max(0,a-1);Mugeda.resume()},gotoAndPause:function(a){this.manualControl=true;window._132=Math.max(0,a-1);Mugeda.pause()},next:function(){this.manualControl=true;window._132++;Mugeda.pause()},previous:function(){this.manualControl=true;window._132--;if(window._132<
0)window._132=0;Mugeda.pause()},pause:function(){this.manualControl=true;window.isEnd=false;window.isPause=true},resume:function(a){window._132+=a==void 0?0:a;if(window._132<0)window._132=0;this.manualControl=true;window.isEnd=false;window.isPause=false},playAndPause:function(a){window.isEnd=false;window.isPause=!window.isPause;if(a)a.className=window.isPause?"c0":"c1"},processAction:function(a){a.type=="pause"?this.pause():a.type=="play"&&this.resume(1);a.type=="next"?this.next():a.type=="previous"?
this.previous():a.type=="gotoAndPlay"?this.gotoAndPlay(isDefined(a.param.frame_number)?a.param.frame_number:parseInt(a.param)):a.type=="gotoAndPause"||a.type=="gotoAndStop"?this.gotoAndPause(isDefined(a.param.frame_number)?a.param.frame_number:parseInt(a.param)):a.type=="call"?this.makePhoneCall(a.param):a.type=="sms"?this.sendShortMessage(a.param):a.type=="email"?this.sendEmail(a.param):a.type=="video"?this.playVideo(a.param):a.type=="picture"?this.savePicture(a.param):a.type=="calendar"?this.addCalendarEvent(a.param):
a.type=="expand"?Mugeda.mraidExpand("",0,a.param):a.type=="resize"&&Mugeda.mraidExpand("",1,a.param)},processBehaviors:function(a,c){for(var b=a.length,d=0;d<b;d++){var e=a[d];e.event==c&&this.processAction(e)}},processObjectBehavior:function(a,c){var b=a._135();b&&b.behavior&&b.behavior.length>0&&(b=JSON.parse(b.behavior))&&this.processBehaviors(b,c==0?"appear":"click")},attachPopup:function(a){var c=arguments.callee,b=c.pop;if(!b){b=document.createElement("div");b.className="mugeda_pop";b.innerHTML=
'<style>.mugeda_pop{position:absolute;bottom:0;width:100%;height:0;overflow:hidden;}.mugeda_pop .x{display:block;position:absolute;right:5px;top:5px;width:23px;height:23px;background-image:url(res/player_close.png);}.mugeda_pop ul,.mugeda_pop ul{margin:0;padding:0;list-style:none;}.mugeda_pop ul{height:64px;background:rgba(0,0,0,0.6);margin:0 auto;}.mugeda_pop ul li{float:left;width:64px;height:64px;overflow:hidden;}.mugeda_pop ul li a{display:block;width:60px;height:60px;margin:2px;background-image:url(res/player.png);}.mugeda_pop ul li a:hover{background-color:rgba(0,0,0,0.6);}.mugeda_pop ul li a.c0{background-position:0 0;}.mugeda_pop ul li a.c1{background-position:-60px 0;}.mugeda_pop ul li a.c2{background-position:-120px 0;}.mugeda_pop ul li a.c3{background-position:-180px 0;}.mugeda_pop ul li a.c4{background-position:-240px 0;}.mugeda_pop ul li a.c5{background-position:-300px 0;}</style><ul><li><a class="c1" target="_blank" href="#" onclick="Mugeda.playAndPause(this);return false" id="play_and_pause"></a></li><li><a class="c2" target="_blank" href="http://www.facebook.com/" onclick="Mugeda.exportImage();return false"></a></li><li><a class="c3" target="_blank" href="http://www.twitter.com/"></a></li><li><a class="c4" target="_blank" href="http://www.google.com/"></a></li><li><a class="c5" target="_blank" href="http://www.mugeda.com/"></a></li></ul><a class="x" href="" onclick="Mugeda.attachPopup.toggle(true);return false"></a>';
c.pop=b;c.toggle=function(a){clearInterval(b.mo);b.mo=setInterval(function(){var c=b.offsetHeight+(a?-4:4);(a?c<0:c>64)?clearInterval(b.mo):b.style.height=c+"px"},10)};if(!a)a=document.body;if(a.tagName=="DIV")a.style.position="relative";a.appendChild(b)}c.toggle()},getCachedImageData:function(a){return ObjectCache.getCache(a)},serialize:function(a){if(!a||!a.length)return"";for(var c="",b=0;b<a.length;b++){var d=a[b];d&&d.name&&(c+="&"+d.name+"="+encodeURIComponent(d.value||""))}return c.substr(1)},
popupForm:function(a){function c(a){if("ontouchstart"in window)window.location=a}function b(){c("mugeda:input:focus")}function d(){c("mugeda:input:blur")}if(a&&a.url){if(!a.html){var e="";a.title&&(e+='<div align="center"><h2>'+a.title+"</h2></div>");var f=a.items||[];window.popupFormFields=f;var g="",h=-10;navigator.userAgent.toLowerCase().indexOf("android")>-1&&(g="-webkit-transform: scale(2,2);margin-right:4px;margin-left:8px;",h=3);for(var i=0;i<f.length;i++){var j=f[i],k=(j.value||"").trim();
if(k){for(var k=k.split("\n"),o=[],l=0;l<k.length;l++){var r=k[l].split("("),t=r[0],r=(r[1]||"").replace(/\)$/,"")||t,u=["FORMID",r,i,l].join("_");o[l]={id:u,text:t,value:r}}k=o}u='id="popupFormField_'+i+'"';switch(j.type){case "radio":e+="<div "+u+' class="popupFormRadioList">';j.description&&(e+="<span>"+j.description+(j.required?"*":"")+"</span><br />");e+='<div class="mformradio">';for(l=0;l<k.length;l++)o=k[l],e+='<label><input type="radio" name="'+j.id+'" value="'+o.value+'" id="'+o.id+'"><span>'+
o.text+"</span></label>";e+="</div></div>";break;case "checkbox":e+="<div "+u+' class="popupFormCheckbox">';j.description&&(e+="<span>"+j.description+(j.required?"*":"")+"</span><br />");e+='<div class="mformcheck">';for(l=0;l<k.length;l++)o=k[l],e+='<input type="checkbox" value="'+o.value+'" id="'+o.id+'"><label for="'+o.id+'">'+o.text+"</label>";e+="</div></div>";break;case "select":e+="<div "+u+' class="popupFormSelectList">';j.description&&(e+="<span>"+j.description+(j.required?"*":"")+"</span><br />");
e+="<select>";j.required&&(e+='<option value=""></option>');for(l=0;l<k.length;l++)o=k[l],e+='<option value="'+o.value+'">'+o.text+"</option>";e+="</select>";e+="</div>";break;case "phone":e+="<div "+u+' class="popupFormInputBox">';e+='<input type="telephone" placeholder="'+(j.description||"")+(j.required?"*":"")+'" autocomplete="off">';e+="</div>";break;case "email":e+="<div "+u+' class="popupFormInputBox">';e+='<input type="email" placeholder="'+(j.description||"")+(j.required?"*":"")+'" autocomplete="off">';
e+="</div>";break;default:e+="<div "+u+' class="popupFormInputBox">',e+='<input type="text" placeholder="'+(j.description||"")+(j.required?"*":"")+'" autocomplete="off">',e+="</div>"}}e+='<div class="popupFormButtons">';e+='<input id="actionButton" type="submit" value="'+a.submitName+'" class="popupFormSubmit">';e+='<input type="button" value="'+a.cancelName+'" class="popupFormCancel" id="popupFormCancel">';e+="</div>";a.html=e}var v=this.popupFormDiv;if(!v)i=document.createElement("div"),i.className=
"popupFormMask",document.body.appendChild(i),v=document.createElement("div"),v.style.display="none",v.className="popupForm",v.innerHTML='<form method="get" target="popupFormIframe"></form><iframe name="popupFormIframe" id="popupFormIframe" style="display:none"></iframe><style>.popupFormMask{position:fixed;left:0;top:0;right:0;bottom:0;background:rgba(0,0,0,.2);}.popupForm{position:absolute;width:300px;background:rgba(255,255,255,1);box-shadow:0 0 20px rgba(0,0,0,.5);font-size:16px;font-family:Tahoma,"\u5fae\u8f6f\u96c5\u9ed1",Arial, SimHei;}.popupForm, .popupForm form{border-radius:4px;}.popupForm *{margin:0;}.popupForm span{color:#333333;}.popupForm label{color:#333333;}.popupForm h2{margin:2px;border-radius:2px 2px 0 0;padding:8px;font-weight:bold;font-size:18px;background-color:#86C4F3;}.popupFormInputBox{padding:5px 0;text-align:center;}.popupFormInputBox input{border-radius:4px;margin:4px 8px;display:block;width:256px;height:28px;text-indent:8px;border:1px solid #bbb;font-size:16px;padding;0;}.popupFormSelectList{padding:8px;}.popupFormSelectList select{margin: 8px 0;font-size:16px;}.popupFormButtons{padding:8px;text-align:center;}.popupFormButtons input{width:96px; height:28px;border-radius:4px;border-width:1px;font-size:16px;}.popupFormSubmit{margin-right:20px;background-color:#86C4F3;border-color:#5EAAE2;}.popupFormCancel{background-color:#EEEEEE;border-color:#DDDDDD;}.popupFormRadioList{padding:8px;height:64px;}.popupFormRadioList input{margin:0 5px 0 8px;}.popupFormCheckbox{padding:8px 8px 0 8px;}.mformradio{margin:8px 0;background-color:#EFEFEF;border-radius:8px;border:1px solid #AAAAAA;overflow:hidden;float:left;}.mformradio label{float:left; min-width:64px;}.mformradio label span{text-align:center;padding:6px 8px;display:block;border-right:#ccc 1px solid}.mformradio label input{position:absolute;top:-99999px;}.mformradio input:checked + span{background-color:#0080ff;color:#F7F7F7;}.mformcheck{margin:8px 0;}.mformcheck input{'+
g+"width:28px;height:28px;background-color:#EFEFEF;}.mformcheck input:checked{background-color:#0080ff;}.mformcheck label{position: relative;top:"+h+"px;font-size:16px;padding-left: 4px;padding-right:8px;}</style>",document.body.appendChild(v),this.popupFormDiv=v,v.mask=i,v.form=v.childNodes[0],v.form.onclick=function(a){a.cancelBubble=false},v.form.onsubmit=function(){G("popupFormIframe").onload=null;setTimeout(function(){for(var b=[],c=window.popupFormFields,d=0;d<c.length;d++){var e=c[d],f=G("popupFormField_"+
d),g="",h=f.querySelectorAll("select");h.length==0&&(h=f.querySelectorAll("input"));if(h.length==1)g=h[0].value||"";else if(h.length>1){for(var g=[],i=0;i<h.length;i++)if(f=h[i],f.checked&&(g.push(f.value),f.type=="radio"))break;g=g.join(",")}if(e.required&&!g){alert((e.description||"item")+" required");h[0].focus();return}if(g)switch(e.type){case "phone":if(!/^\d+$/.test(g)){alert(_5A.Message.CheckNumber);h[0].focus();return}break;case "email":if(!/^\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*$/.test(g)){alert(_5A.Message.CheckEmail);
h[0].focus();return}}b.push(e.id+"="+g||"")}G("actionButton").value=a.pendingName;b=b.join("&");b=a.url+"?"+encodeURIComponent(b);c={id:u,action:"form"};c.id=a.id;Mugeda.trackAction(_5A.MugedaActionTracker,c);a.loadFinished=function(){v.style.display="none";v.mask.style.display="none"};try{window.open(b,"popupFormIframe"),G("popupFormIframe").onload=function(){a.loadFinished();alert(a.msg)}}catch(j){a.loadFinished(),alert("Form submittion failed. Please try again. ")}},200);return false};v.style.display=
"";v.mask.style.display="";v.form.innerHTML=a.html;if(a.id)v.form.id=a.id;if(a.background)v.form.style.background=a.background;G("popupFormCancel").onclick=function(){v.style.display="none";v.mask.style.display="none"};g=document.querySelectorAll(".popupFormInput");for(i=0;i<g.length;i++)h=g[i],h.onfocus=b,h.onblur=d;i=a.target?a.target.getBoundingClientRect():{left:0,top:0,width:document.documentElement.clientWidth,height:document.documentElement.clientHeight};v.style.left=Math.max(2,i.left+document.documentElement.scrollLeft+
(i.width-v.offsetWidth)/2)+"px";v.style.top=Math.max(2,i.top+document.documentElement.scrollTop+(i.height-v.offsetHeight)/2)+"px"}}};function _1C(a){return _7.zip(a)}function _4E(a){a=_7.unzip(a);if(a.script&&a.script.length)a.script=unescape(a.script);return a}
_7={keys:"Ac,action,fM,form,tt,title,wt,width,ht,height,cl,color,sm,symbols,ly,layers,vr,version,sC,scripts,zI,zoomInfo,pd,pid,tp,type,nm,name,un,units,lI,layerId,fS,frameStart,fC,frameCount,ad,animated,vb,visible,ob,objects,pm,param,fI,fillInfo,cv,curve,kf,keyframes,md,mode,tw,tween,hK,hashKey,ix,index,rW,rawWidth,rH,rawHeight,sI,symbolId,oX,offsetX,oY,offsetY,rX,rotateCenterX,rY,rotateCenterY,it,items,nI,nodeId,gP,guidPath,ph,path,gi,guid,sm,smooth,iX,innerX,iY,innerY,uX,outerX,uY,outerY,cX,centerX,cY,centerY,ed,edges,st,section,fZ,fontSize,fT,fontStyle,fW,fontWeight,fF,fontFamily,tA,textAlign,tC,textContent,tD,textDecoration,cR,cornerRadius,iS,imageSrc,lC,lineCap,lJ,LineJoin,fR,frameRate,iP,innerPercent,TA,trackAnchors,MT,mugedaTrackAnchors".split(","),zip:function(a){if(a){if(a.zip)return a;
a=JSON.parse(JSON.stringify(a));a.zip=1;a.rate==12&&delete a.rate;a.width==600&&delete a.width;a.height==400&&delete a.height;a.guid==""&&delete a.guid;a.title==""&&delete a.title;a.script==""&&delete a.script;a.loop==true&&delete a.loop;a.useCamera==false&&delete a.useCamera;if(a.symbols.length==0)delete a.symbols;else for(var c=a.symbols,b=0;b<c.length;b++){var d=c[b];delete d.runtime;delete d.dirtyFlag;this.zipLayers(d.layers)}this.zipZoomInfo(a);this.zipLayers(a.layers);return a=this.zipKey(a)}},
unzip:function(a){if(!a)return a;if(a.zip!=1)return _2D.unzip(a);a=JSON.parse(JSON.stringify(a));a=this.unzipKey(a);delete a.zip;if(a.rate==void 0)a.rate=12;if(a.width==void 0)a.width=600;if(a.height==void 0)a.height=400;if(a.guid==void 0)a.guid="";if(a.title==void 0)a.title="";if(a.script==void 0)a.script="";if(a.loop==void 0)a.loop=true;if(a.useCamera==void 0)a.useCamera=false;if(a.symbols==void 0)a.symbols=[];if(a.symbols.length)for(var c=a.symbols,b=0;b<c.length;b++){var d=c[b];d.runtime=true;
d.dirtyFlag=false;this.unzipLayers(d.layers)}this.unzipZoomInfo(a);this.unzipLayers(a.layers);return a},zipKey:function(a){for(var c,a=JSON.stringify(a),b=0;b<this.keys.length;b+=2)c=eval('/"'+this.keys[b+1]+'":/g'),a=a.replace(c,'"'+this.keys[b]+'":');return JSON.parse(a)},unzipKey:function(a){for(var c,a=JSON.stringify(a),b=0;b<this.keys.length;b+=2)c=eval('/"'+this.keys[b]+'":/g'),a=a.replace(c,'"'+this.keys[b+1]+'":');return JSON.parse(a)},zipZoomInfo:function(a){for(var c=[],b=a.zoomInfo||[],
d=0;d<b.length;d++){var e=b[d];e&&(c.push("i"+d),e.tween&&c.push("t"+e.tween),c.push(e.offsetLeft),c.push(e.offsetTop),c.push(e.rotation),c.push(e.zoomLevel))}a.zoomInfo=c.join(",")},unzipZoomInfo:function(a){for(var c=[],b=a.zoomInfo.split(",")||[],d=0;d<b.length;d+=4){var e=b[d];if(e.indexOf("i")==0){e=e.substr(1);d++;var f=b[d];f.indexOf("t")==0?(f=f.substr(1),d++):f=null;c[e]={offsetLeft:Number(b[d]),offsetTop:Number(b[d+1]),rotation:Number(b[d+2]),zoomLevel:Number(b[d+3])};if(f)c[e].tween=f}}a.zoomInfo=
c},zipLayers:function(a){for(var c=0;c<a.length;c++){var b=a[c];delete b.hide;delete b.lock;for(var b=b.units,d=0;d<b.length;d++){var e=b[d];e.animated&&this.zipPath(e);for(var f=e.keyframes||[],g=0;g<f.length;g++)this.zipParam(f[g].param);e.visible==true&&delete e.visible;this.zipObjects(e.objects)}}},unzipLayers:function(a){for(var c=0;c<a.length;c++){var b=a[c];b.hide=false;b.lock=false;for(var b=b.units,d=0;d<b.length;d++){var e=b[d];e.animated&&this.unzipPath(e);for(var f=e.keyframes||[],g=0;g<
f.length;g++)this.unzipParam(f[g].param);if(e.visible==void 0)e.visible=true;this.unzipObjects(e.objects)}}},zipPath:function(a){var c=[],b=a.path||[],d=a.pathTop||0;c.push(a.pathLeft||0);c.push(d);for(d=0;d<b.length;d++){var e=b[d];c.push(e.id);c.push(e.backwardX);c.push(e.backwardY);c.push(e.forwardX);c.push(e.forwardY);c.push(e.nodeX);c.push(e.nodeY)}a.path=c.join(",");delete a.pathLeft;delete a.pathTop},unzipPath:function(a){for(var c=a.path.split(","),b=[],d=c.shift(),e=c.shift(),f=0;f<c.length;f+=
7)b.push({id:Number(c[f]),backwardX:Number(c[f+1]),backwardY:Number(c[f+2]),forwardX:Number(c[f+3]),forwardY:Number(c[f+4]),nodeX:Number(c[f+5]),nodeY:Number(c[f+6])});b.length?(a.pathLeft=Number(d),a.pathTop=Number(e),a.path=b):(delete a.path,delete a.pathLeft,delete a.pathTop)},zipObjects:function(a){for(var c=0;c<a.length;c++){var b=a[c];b.items&&b.items.length?this.zipObjects(b.items):(delete b.id,delete b.name,delete b.items,delete b.aryAnchors);this.zipCurve(b);this.zipParam(b.param)}},unzipObjects:function(a){for(var c=
0;c<a.length;c++){var b=a[c];b.items&&b.items.length?this.unzipObjects(b.items):(b.id=0,b.name="",b.items=[],b.aryAnchors=[]);this.unzipCurve(b);this.unzipParam(b.param)}},zipCurve:function(a){var c=a.curve.points;if(typeof c=="string")for(var b=c.split(";"),c=[],d=0;d<b.length;d++){var e=b[d].split(",");c.push({backwardX:Number(e[0]),backwardY:Number(e[1]),forwardX:Number(e[2]),forwardY:Number(e[3]),nodeX:Number(e[4]),nodeY:Number(e[5])})}b=[];b.push(a.curve.closed?1:0);for(d=0;d<c.length;d++)e=
c[d],b.push(e.backwardX),b.push(e.backwardY),b.push(e.forwardX),b.push(e.forwardY),b.push(e.nodeX),b.push(e.nodeY);a.curve=b.join(",")},unzipCurve:function(a){var c=a.curve;if(typeof c=="string"){a.curve={};var c=c.split(","),b=c.shift()==1;a.curve.closed=b;for(var b=[],d=0;d<c.length;d+=6)b.push({backwardX:Number(c[d]),backwardY:Number(c[d+1]),forwardX:Number(c[d+2]),forwardY:Number(c[d+3]),nodeX:Number(c[d+4]),nodeY:Number(c[d+5])});a.curve.points=b}},zipParam:function(a){a.m=["L"+a.left,"R"+a.right,
"T"+a.top,"B"+a.bottom,"S"+a.startX,"P"+a.startY,"E"+a.endX,"N"+a.endY,"X"+a.scaleX,"Y"+a.scaleY,"O"+a.rotate,"W"+a.lineWidth,"A"+a.alpha,"C"+a.strokeColor].join(";");a.strokeType==0&&delete a.strokeType;a.frameRate==12&&delete a.frameRate;a.lineCap=="round"&&delete a.lineCap;a.lineJoin=="round"&&delete a.lineJoin;a.customPivot||delete a.customPivot;delete a.startX;delete a.startY;delete a.endX;delete a.endY;delete a.width;delete a.height;delete a.left;delete a.right;delete a.top;delete a.bottom;
delete a.scaleX;delete a.scaleY;delete a.rotate;delete a.lineWidth;delete a.alpha;delete a.strokeColor;this.zipFillInfo(a)},unzipParam:function(a){if(a.strokeType==void 0)a.strokeType=0;if(a.frameRate==void 0)a.frameRate=12;if(a.lineCap==void 0)a.lineCap="round";if(a.lineJoin==void 0)a.lineJoin="round";for(var c=a.m.split(";"),b=0;b<c.length;b++){var d=c[b].substr(0,1),e=c[b].substr(1);switch(d){case "L":a.left=Number(e);break;case "R":a.right=Number(e);break;case "T":a.top=Number(e);break;case "B":a.bottom=
Number(e);break;case "S":a.startX=Number(e);break;case "P":a.startY=Number(e);break;case "E":a.endX=Number(e);break;case "N":a.endY=Number(e);break;case "X":a.scaleX=Number(e);break;case "Y":a.scaleY=Number(e);break;case "O":a.rotate=Number(e);break;case "W":a.lineWidth=Number(e);break;case "A":a.alpha=Number(e);break;case "C":a.strokeColor=e}}if(a.startX==void 0)a.startX=a.left;if(a.startY==void 0)a.startY=a.top;if(a.endX==void 0)a.endX=a.right;if(a.endY==void 0)a.endY=a.bottom;a.width=a.right-a.left;
a.height=a.bottom-a.top;delete a.m;this.unzipFillInfo(a)},zipFillInfo:function(a){var c=[],b=[],d=a.fillInfo;if(d){var e=d.fillStyle,f=d.fillColors,g=[d.fillStartPos.x,d.fillStartPos.y,d.fillEndPos.x,d.fillEndPos.y],d=d.fillImage;if(d!="")e=-1,f.length=0,g=[];if(e==0)f.length=1,g=[];c.push(e);for(e=0;e<f.length;e++){var h=f[e];b.push(h.p);b.push(h.r);b.push(h.g);b.push(h.b);b.push(h.a)}c.push(b.join(","));c.push(g.join(","));c.push(d);a.fillInfo=c.join(";")}},unzipFillInfo:function(a){if(a.fillInfo){for(var c=
a.fillInfo.split(";"),b=Number(c[0]),d=c[1].split(","),e=c[3],f=[],g=0;g<d.length;g+=5)f.push({p:Number(d[g]),r:Number(d[g+1]),g:Number(d[g+2]),b:Number(d[g+3]),a:Number(d[g+4])});b={fillStyle:b,fillImage:e,fillColors:f};c=c[2].split(",");c.length!=4&&(c=[0,0,0,0]);b.fillStartPos={x:Number(c[0]),y:Number(c[1])};b.fillEndPos={x:Number(c[2]),y:Number(c[3])};a.fillInfo=b}}};
function mraidReady(){parseFloat(mraid.getVersion())-0.999>0?(window.mraidStatus=_5A.MRAID_READY,mraid.addEventListener("error",function(){}),mraid.addEventListener("stateChange",function(){var a=mraid.getState();Mugeda.setMraidState(a)}),mraid.addEventListener("sizeChange",function(){})):console.log("mraidReady is called, but with no correct version (>= 1.0) supported.")}var mraidReadyTimeout,mraidTimeOut=100,mraidCounter=0;
function readyListener(){typeof mraid==="undefined"?(mraidCounter++,mraidCounter<mraidTimeOut&&(mraidReadyTimeout=setTimeout(readyListener,100))):mraid.getState()==="loading"?mraid.addEventListener("ready",mraidReady):mraidReady()}readyListener();try{var htmlDoc=document.getElementsByTagName("head").item(0),js=document.createElement("script"),s="mraid.js";js.setAttribute("type","text/javascript");js.setAttribute("src",s);htmlDoc.appendChild(js);js.onload=function(){};js.onerror=function(){}}catch(e$$25){alert(e$$25.toString())};
